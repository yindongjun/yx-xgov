webpackJsonp([32],{F0yH:function(t,a,e){a=t.exports=e("FZ+f")(!1),a.push([t.i,".main-data-list{height:100%}.main-data-list .el-dialog .el-dialog__body{padding:15px;padding-top:0}.main-data-list .el-dialog .el-dialog__body .el-table .el-table th,.main-data-list .el-dialog .el-dialog__body .el-table td{padding:6px 0}.main-data-list .main-data-b{margin-top:30px;height:calc(100% - 175px);overflow:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap}.main-data-list .main-data-b li{margin-right:60px;overflow:hidden;margin-bottom:30px;border:1px solid #e1e5ec;text-align:center;width:187px;-webkit-box-shadow:0 1px 4px 0 hsla(0,0%,84%,.5);box-shadow:0 1px 4px 0 hsla(0,0%,84%,.5);border-radius:2px;position:relative;-webkit-transition:2s linear;transition:2s linear;height:142px}.main-data-list .main-data-b li .check-header{line-height:32px;background:#acb5c3;color:#fff;margin:0}.main-data-list .main-data-b li .check-body{background:#f9f9fa;padding-top:19px;-webkit-box-sizing:border-box;box-sizing:border-box;padding-bottom:16px}.main-data-list .main-data-b li .check-body span{line-height:28px;font-size:16px;font-weight:700}.main-data-list .main-data-b li .check-footer{line-height:32px;border-top:1px solid #e1e5ec;height:32px}.main-data-list .main-data-b li .check-set{position:absolute;width:100%;height:32px;background:rgba(51,55,67,.7);bottom:-32px;left:0;cursor:pointer;padding-left:48px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:.5s;transition:.5s}.main-data-list .main-data-b li .check-set span{width:45px;float:left;height:100%;font-size:16px;line-height:32px;text-align:center;color:#fff}.main-data-list .main-data-b li .check-set span:hover{background:hsla(0,0%,100%,.27)}.main-data-list .main-data-b li:hover .check-set{bottom:0}.main-data-list .main-data-b .no-data-pic-outer{height:100%;text-align:center;position:relative;width:100%}.main-data-list .main-data-b .no-data-pic-outer .no-data-box{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.main-data-list .main-data-b .no-data-pic-outer .no-data-box .no-data-text{color:#9da1a9;padding:20px 0}",""])},HId2:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"main-data-list"},[e("el-row",[e("el-button",{staticClass:"grey-btn",attrs:{size:"small"},on:{click:t.selectSource}},[t._v("选择数据源")])],1),t._v(" "),e("ul",{staticClass:"main-data-b"},[0===t.listInfo.length?e("div",{staticClass:"no-data-pic-outer valign"},[t._m(0)]):t._e(),t._v(" "),t._l(t.listInfo,function(a){return e("li",{key:a.id},[e("p",{staticClass:"check-header"},[t._v(t._s(a.dataName))]),t._v(" "),e("div",{staticClass:"check-body"},[e("span",[t._v(t._s(a.dataName))]),e("br"),t._v("\n        数据源名称\n      ")]),t._v(" "),e("div",{staticClass:"check-footer"},[t._v("数据表个数："+t._s(a.tableNumber)+"个")]),t._v(" "),e("div",{staticClass:"check-set"},[e("span",{on:{click:function(e){return t.editTask(a.id)}}},[e("svg-icon",{attrs:{iconClass:"编辑1"}})],1),t._v(" "),e("span",{on:{click:function(e){return t.deleteTask(a.id)}}},[e("svg-icon",{attrs:{iconClass:"删除"}})],1)])])})],2),t._v(" "),e("el-pagination",{staticClass:"ar",attrs:{"current-page":t.currentPage,"page-size":12,layout:"total, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),e("el-dialog",{attrs:{"close-on-click-modal":!1,title:"提示",visible:t.dialogVisible,width:"536px"},on:{"update:visible":function(a){t.dialogVisible=a},open:t.openModal,close:t.closeModal}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sourceList,height:"350"},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),e("el-table-column",{attrs:{prop:"datasourceName",label:"数据源名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"databaseType",label:"数据库类型"}})],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"danger",size:"small",loading:t.buttonLoading},on:{click:t.submitSource}},[t._v("保 存")])],1)],1)],1)},n=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"no-data-box"},[i("img",{staticClass:"no-data-pic",attrs:{src:e("ITl7")}}),t._v(" "),i("p",{staticClass:"no-data-text"},[t._v("暂无数据")])])}],s={render:i,staticRenderFns:n};a.a=s},ITl7:function(t,a,e){t.exports=e.p+"static/img/noDataPic.057591f.png"},LSNC:function(t,a,e){"use strict";a.a={name:"",components:{},data:function(){return{buttonLoading:!1,dialogVisible:!1,selectList:[],sourceList:[{name:"tesk-ku",type:"ETL"},{name:"tesk-ku",type:"ETL"},{name:"tesk-ku",type:"ETL"},{name:"tesk-ku",type:"ETL"}],ruleForm:{type:"",name:""},total:0,currentPage:1,pageLength:12,listInfo:[]}},methods:{getList:function(){var t=this,a={start:(this.currentPage-1)*this.pageLength,length:this.pageLength,maindataName:this.ruleForm.name,type:this.ruleForm.type};this.$urlApi.propertyManage.queryMainData(a).then(function(a){t.listInfo=a.data,t.total=a.recordsFiltered})},dataSelect:function(){this.getList()},handleSizeChange:function(t){this.this.pageLength=t,this.currentPage=1,this.getList()},handleCurrentChange:function(t){this.currentPage=t,this.getList()},searchList:function(){this.getList()},selectSource:function(){this.dialogVisible=!0},openModal:function(){var t=this;this.$urlApi.propertyManage.getDatasource().then(function(a){t.sourceList=a.data})},closeModal:function(){this.sourceList=[],this.selectList=[]},handleSelectionChange:function(t){this.selectList=t},submitSource:function(){var t=this;this.buttonLoading=!0,this.$urlApi.propertyManage.addMainData({dataSourceIds:this.selectList.map(function(t){return t.id}).join(",")}).then(function(a){t.buttonLoading=!1,t.sourceList=a.data,t.dialogVisible=!1,t.$toast("success","新建成功"),t.getList()}).catch(function(a){t.buttonLoading=!1})},editTask:function(t){this.$router.push({path:"/property/default/maindata/detail",query:{id:t}})},deleteTask:function(t){var a=this;this.$confirm("确认要删除吗","系统消息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",closeOnClickModal:!1}).then(function(){a.$urlApi.propertyManage.deleteDataBase({id:t}).then(function(t){a.$toast("success","删除成功"),a.getList()})}).catch(function(){})}},mounted:function(){this.getList()}}},fziJ:function(t,a,e){"use strict";function i(t){e("hn0M")}Object.defineProperty(a,"__esModule",{value:!0});var n=e("LSNC"),s=e("HId2"),o=e("VU/8"),l=i,r=o(n.a,s.a,!1,l,null,null);a.default=r.exports},hn0M:function(t,a,e){var i=e("F0yH");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("f8f40612",i,!0,{})}});