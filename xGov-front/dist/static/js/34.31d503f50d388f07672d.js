webpackJsonp([34],{"23Fi":function(o,n,e){o.exports=e.p+"static/img/loginBk.9b7164e.png"},C97v:function(o,n,e){"use strict";var t=function(){var o=this,n=o.$createElement,e=o._self._c||n;return e("section",{staticClass:"login-outer-container"},[e("div",{staticClass:"logo-outer"},[e("div",{staticClass:"logo mb15"},[e("i",{staticStyle:{"font-size":"24px","margin-right":"5px"}},[e("svg-icon",{attrs:{iconClass:"govlogo-home"}})],1),e("span",[o._v("xGov")])])]),o._v(" "),e("div",{staticClass:"login-container-outer"},[o._m(0),o._v(" "),e("el-form",{ref:"loginForm",staticClass:"demo-ruleForm login-container",attrs:{model:o.loginForm,rules:o.loginRules,"label-position":"top"}},[e("el-form-item",{attrs:{prop:"account",label:"用户名称"}},[e("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请输入账号"},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&o._k(n.keyCode,"enter",13,n.key,"Enter")?null:o.login("loginForm")}},model:{value:o.loginForm.account,callback:function(n){o.$set(o.loginForm,"account",n)},expression:"loginForm.account"}})],1),o._v(" "),e("el-form-item",{attrs:{prop:"checkPass",label:"用户密码"}},[e("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入密码"},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&o._k(n.keyCode,"enter",13,n.key,"Enter")?null:o.login("loginForm")}},model:{value:o.loginForm.checkPass,callback:function(n){o.$set(o.loginForm,"checkPass",n)},expression:"loginForm.checkPass"}})],1),o._v(" "),e("el-form-item",{staticStyle:{width:"100%","margin-top":"15px"}},[e("el-button",{staticStyle:{width:"100%",height:"34px"},attrs:{type:"danger",size:"small",loading:o.isLogin},on:{click:function(n){return o.login("loginForm")}},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&o._k(n.keyCode,"enter",13,n.key,"Enter")?null:o.login(n)}}},[o._v("登录")])],1)],1)],1)])},i=[function(){var o=this,n=o.$createElement,e=o._self._c||n;return e("div",{staticClass:"login-container-l"},[e("h3",[o._v("xGov企业数据治理支撑平台")]),o._v(" "),e("p",[o._v("企业数据治理支撑平台，集合元数据管理、数据质量监控、数据资产管理等功能，帮助企业提高内部数据质量，挖掘数据价值，提高市场竞争力。")])])}],r={render:t,staticRenderFns:i};n.a=r},EasU:function(o,n,e){var t=e("UMjn");"string"==typeof t&&(t=[[o.i,t,""]]),t.locals&&(o.exports=t.locals);e("rjj0")("099556f7",t,!0,{})},UMjn:function(o,n,e){var t=e("kxFB");n=o.exports=e("FZ+f")(!1),n.push([o.i,".login-outer-container{height:100%;width:100%;position:relative}.login-outer-container .img{height:100%;width:100%;display:block}.login-outer-container .logo-outer{width:250px;height:60px;position:absolute;left:20px;top:10px}.login-outer-container .logo-outer .logo{width:100%;height:100%;color:#fff;font-size:24px;line-height:60px;padding-left:22px;-webkit-box-sizing:border-box;box-sizing:border-box}.login-outer-container .login-container-outer{height:100%;width:1000px;position:absolute;z-index:9999999;left:0;top:0;bottom:0;right:0;margin:auto}.login-outer-container .login-container-outer .login-container-l{width:420px;position:absolute;height:200px;left:50px;top:0;bottom:0;margin:auto}.login-outer-container .login-container-outer .login-container-l h3{line-height:20px;font-size:33px;color:#fff;font-weight:400}.login-outer-container .login-container-outer .login-container-l p{color:#fff;line-height:33px;font-size:15px}.login-outer-container .login-container-outer .login-container{position:absolute;height:330px;top:0;right:50px;bottom:0;margin:auto;border-radius:2px;-moz-border-radius:2px;background-clip:padding-box;width:380px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:35px 27px;background:#fff;border:1px solid #eaeaea}.login-outer-container .login-container-outer .login-container .el-form-item{margin-bottom:20px}.login-outer-container .login-container-outer .login-container .el-form-item.is-error .el-input__inner,.login-outer-container .login-container-outer .login-container .el-form-item.is-error .el-input__inner:focus,.login-outer-container .login-container-outer .login-container .el-form-item.is-error .el-textarea__inner,.login-outer-container .login-container-outer .login-container .el-form-item.is-error .el-textarea__inner:focus,.login-outer-container .login-container-outer .login-container .el-form-item.is-success .el-input__inner,.login-outer-container .login-container-outer .login-container .el-form-item.is-success .el-input__inner:focus,.login-outer-container .login-container-outer .login-container .el-form-item.is-success .el-textarea__inner,.login-outer-container .login-container-outer .login-container .el-form-item.is-success .el-textarea__inner:focus,.login-outer-container .login-container-outer .login-container .el-message-box__input input.invalid,.login-outer-container .login-container-outer .login-container .el-message-box__input input.invalid:focus{border-color:#dcdfe6}.login-outer-container .login-container-outer .login-container .el-form-item__label{padding:0;color:#5e6977}.login-outer-container .login-container-outer .login-container .title{margin:0 auto 30px;text-align:center;color:#505458}.login-outer-container .login-container-outer .login-container .remember{margin:0 0 35px}.login-outer-container{background-size:100% 100%;background-image:url("+t(e("23Fi"))+");background-repeat:no-repeat}",""])},"ook+":function(o,n,e){"use strict";function t(o){e("EasU")}Object.defineProperty(n,"__esModule",{value:!0});var i=e("vpZE"),r=e("C97v"),a=e("VU/8"),l=t,c=a(i.a,r.a,!1,l,null,null);n.default=c.exports},vpZE:function(o,n,e){"use strict";var t=e("2CHa");e.n(t);n.a={name:"login",components:{},data:function(){return{isLogin:!1,loginForm:{account:"",checkPass:""},loginRules:{account:[{validator:function(o,n,e){return n?/^[a-zA-Z0-9_-]{3,16}$/.test(n)?void e():e(new Error("请输入3到16位（字母，数字，下划线，减号）")):e(new Error("用户名不能为空"))},trigger:"blur"}],checkPass:[{validator:function(o,n,e){return n?/^[a-zA-Z0-9_-]{3,16}$/.test(n)?void e():e(new Error("请输入3到16位密码（字母，数字，下划线，减号）")):e(new Error("密码不能为空"))},trigger:"blur"}]}}},methods:{login:function(o){var n=this,e=this;this.$refs[o].validate(function(o){if(o){e.isLogin=!0;var t=n.loginForm,i={loginName:t.account,loginPwd:t.checkPass};n.$urlApi.userPrivate.loginIn(i).then(function(o){if(e.isLogin=!1,"200"===o.code){var i=o.data.menuList.find(function(o){return"xgov"===o.os}).child;if(!i)return n.$toast("error","当前用户还未分配角色，请联系管理员");n.$auth.setToken(o.data.sessionId),localStorage.setItem("user",JSON.stringify({user:t.account})),localStorage.setItem("menuList",JSON.stringify(o.data.menuList));var r=n.getWhiteList(i);setTimeout(function(){return n.$router.push({path:r[0]})},500)}else n.$toast("error",o.message)}).catch(function(o){e.isLogin=!1})}})},getWhiteList:function(o){var n=[];return function o(e){return e.map(function(e){e.permission&&n.push(e.permission),e.child&&o(e.child)}),n}(o),n}}}}});