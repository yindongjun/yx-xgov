webpackJsonp([6],{"0GTw":function(e,a,t){a=e.exports=t("FZ+f")(!1),a.push([e.i,".relation-base .check-ok-status{padding-left:110px;font-size:12px;color:#67c23a;height:25px;line-height:25px;margin:0}.relation-base .check-false-status{display:none;margin:0}",""])},"4Csh":function(e,a,t){var r=t("eQsC");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("3ba9a130",r,!0,{})},"8nV/":function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"collect-datasource-edit"},[t("el-form",{ref:"baseform",staticStyle:{overflow:"hidden"},attrs:{model:e.baseform,"label-width":"120px"}},[t("el-form-item",{staticStyle:{float:"left",width:"46%"},attrs:{label:"数据源名称",prop:"dataSourceName"}},[t("label",{staticClass:"view-datasource-text"},[e._v(e._s(e.baseform.dataSourceName))])]),e._v(" "),t("el-form-item",{staticStyle:{float:"left",width:"46%"},attrs:{label:"数据源类型",prop:"databaseType"}},[t("label",{staticClass:"view-datasource-text"},[e._v(e._s(e.baseform.databaseType))])]),e._v(" "),t("el-form-item",{staticStyle:{float:"left",width:"100%"},attrs:{label:"数据源描述",prop:"description"}},[t("label",{staticClass:"view-datasource-text"},[e._v(e._s(e.baseform.description))])])],1),e._v(" "),t("el-form",{ref:"extraform",staticStyle:{overflow:"hidden"},attrs:{model:e.extraform,"label-width":"120px"}},[e._l(e.extraformItems,function(a,r){return["input"===a.type?t("el-form-item",{key:a.label+r,style:"float: left; width:"+(a.isWidth?"100%":"46%"),attrs:{label:a.label,prop:a.prop}},[t("label",{staticClass:"view-datasource-text"},[e._v(e._s(e.extraform[a.prop]))])]):e._e(),e._v(" "),"select"===a.type?t("el-form-item",{key:a.label+r,style:"float: left; width:"+(a.isWidth?"100%":"46%"),attrs:{label:a.label,prop:a.prop}},[t("label",{staticClass:"view-datasource-text"},[e._v(e._s(a.options.find(function(t){return t.value===e.extraform[a.prop]}).label))])]):e._e(),e._v(" "),"radio"===a.type?t("el-form-item",{key:a.label+r,style:"float: left; width:"+(a.isWidth?"100%":"46%"),attrs:{label:a.label,prop:a.prop}},[t("label",{staticClass:"view-datasource-text"},[e._v(e._s(a.options.find(function(t){return t.value===e.extraform[a.prop]}).text))])]):e._e()]})],2)],1)},i=[],o={render:r,staticRenderFns:i};a.a=o},A02o:function(e,a,t){"use strict";a.a={name:"",components:{},props:["UserAccreditVisible"],data:function(){return{baseForm:{prevName:"",currName:""}}},methods:{submitForm:function(){this.$emit("UserAccreditBack")},closeDialog:function(){this.$emit("UserAccreditBack")}},mounted:function(){}}},Ch5O:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-dialog",{staticClass:"relation-source",attrs:{title:"关联数据源",visible:e.dialog.visible,"before-close":e.closeDialog,"lock-scroll":!1,"close-on-click-modal":!1,width:"30rem"},on:{"update:visible":function(a){return e.$set(e.dialog,"visible",a)},open:e.openDialog}},[t("el-form",{ref:"form",attrs:{rules:e.rules,"label-width":"80px",model:e.form}},[t("el-form-item",{attrs:{label:"当前分层"}},[t("label",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.form.layer))])]),e._v(" "),t("el-form-item",{attrs:{label:"关联数据源"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:"请选择需要关联的数据源"},model:{value:e.form.datasource,callback:function(a){e.$set(e.form,"datasource",a)},expression:"form.datasource"}},e._l(e.datasourcelist,function(e,a){return t("el-option",{key:a,attrs:{label:e.datasourceName,value:e.id}})}),1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"reset-btn",attrs:{type:"info",size:"small"},on:{click:e.cancelForm}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"danger",size:"small",loading:e.buttonLoading},on:{click:e.submitForm}},[e._v("保 存")])],1)],1)},i=[],o={render:r,staticRenderFns:i};a.a=o},DgOF:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("section",{staticClass:"data-manage main-outer"},[r("el-row",{staticClass:"common-condition ar mb15"}),e._v(" "),r("el-row",{staticClass:"main-inner-allSize"},[r("div",{staticClass:"main-data-left"},[r("div",{staticClass:"tree-menu"},[r("el-input",{staticClass:"search-input mb10",attrs:{placeholder:"请输入目录名称",size:"mini"},model:{value:e.treeName,callback:function(a){e.treeName=a},expression:"treeName"}},[r("i",{staticClass:"el-input__icon el-icon-search searchBtn",attrs:{slot:"suffix"},slot:"suffix"})]),e._v(" "),r("div",{staticClass:"tree-b"},[r("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.addNewLayer(-1)}}},[e._v("新建分层")]),e._v(" "),r("vue-scroll",[r("el-tree",{ref:"tree2",attrs:{data:e.treeData,props:e.defaultProps,"highlight-current":!0,"default-expand-all":"","expand-on-click-node":!1,"render-content":e.renderContent,"filter-node-method":e.filterNode,"node-key":"id"},on:{"node-click":e.handleNodeClick}})],1)],1)],1)]),e._v(" "),r("div",{staticClass:"main-data-right"},[r("el-row",{staticClass:"mt20"},[r("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.relationDatasource}},[e._v("\n          关联数据源\n        ")])],1),e._v(" "),r("el-row",{staticClass:"main-data-right-b"},[0===e.listAction.length?r("div",{staticClass:"no-data-pic-outer valign"},[r("div",{staticClass:"no-data-box"},[r("img",{staticClass:"no-data-pic",attrs:{src:t("ITl7")}}),e._v(" "),r("p",{staticClass:"no-data-text"},[e._v("\n              暂无数据，开始"),r("span",{staticClass:"redText",on:{click:e.relationDatasource}},[e._v(" 关联数据源")])])])]):e._e(),e._v(" "),r("vue-scroll",[r("ul",{staticClass:"analyze-b"},e._l(e.listAction,function(a){return r("li",{key:a.id},[r("p",{staticClass:"check-header",attrs:{title:a.databaseType},on:{click:function(t){return e.showDatasource(a)}}},[e._v(e._s(a.datasourceName))]),e._v(" "),r("div",{staticClass:"check-body over",attrs:{title:a.databaseType}},[e._v("\n                数据源类型："+e._s(a.databaseType)+"\n              ")]),e._v(" "),r("div",{staticClass:"check-body over",attrs:{title:a.sourceAddress}},[e._v("\n                服务地址："+e._s(a.sourceAddress)+"\n              ")]),e._v(" "),r("div",{staticClass:"check-set"},[r("span",{on:{click:function(t){return e.deleteData(a.id)}}},[r("svg-icon",{attrs:{iconClass:"删除"}})],1)])])}),0)]),e._v(" "),r("el-pagination",{staticClass:"ar",attrs:{"current-page":e.currentPage,"page-size":12,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),r("el-dialog",{attrs:{"close-on-click-modal":!1,width:"500px",title:""===e.addLayerForm.id?"新建下级目录":"编辑目录",visible:e.addLayerVisible,"before-close":e.closeModal,"append-to-body":""},on:{"update:visible":function(a){e.addLayerVisible=a}}},[r("el-form",{ref:"addLayerForm",attrs:{model:e.addLayerForm,rules:e.rules,size:"small","label-width":"80px","label-position":"right"}},[r("el-form-item",{attrs:{label:"上级目录"}},[r("label",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.parentContents))])]),e._v(" "),r("el-form-item",{attrs:{label:"目录名称",prop:"name"}},[r("el-input",{attrs:{maxlength:"20",placeholder:"最大长度为20个字符"},model:{value:e.addLayerForm.name,callback:function(a){e.$set(e.addLayerForm,"name",a)},expression:"addLayerForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"目录描述",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:e.addLayerForm.remark,callback:function(a){e.$set(e.addLayerForm,"remark",a)},expression:"addLayerForm.remark"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info",size:"small"},on:{click:e.closeModal}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"danger",size:"small",loading:e.buttonLoading},on:{click:function(a){return e.submitLayer("addLayerForm")}}},[e._v("保 存")])],1)],1),e._v(" "),r("user-accredit",{attrs:{UserAccreditVisible:e.UserAccreditVisible},on:{UserAccreditBack:e.UserAccreditBack}}),e._v(" "),r("relation-base",{attrs:{RelationBaseVisible:e.RelationBaseVisible,isEditRelation:e.isEditRelation},on:{RelationBaseBack:e.RelationBaseBack}}),e._v(" "),r("no-relation-base",{attrs:{NoRelationBaseVisible:e.NoRelationBaseVisible,isEditNoRelation:e.isEditNoRelation},on:{NoRelationBaseBack:e.NoRelationBaseBack}}),e._v(" "),r("RelationSource",{ref:"relationSource",attrs:{dialog:e.dialog},on:{relationSource:e.relationSource}}),e._v(" "),r("el-dialog",{attrs:{title:"数据源详情",visible:e.dialog1.visible,"before-close":e.closeDialog,"lock-scroll":!1,width:"50rem","close-on-click-modal":!1},on:{"update:visible":function(a){return e.$set(e.dialog1,"visible",a)},open:e.openDialog}},[r("ViewDataSource",{ref:"viewDataSource"})],1)],1)},i=[],o={render:r,staticRenderFns:i};a.a=o},ITl7:function(e,a,t){e.exports=t.p+"static/img/noDataPic.057591f.png"},KVRF:function(e,a,t){"use strict";a.a={name:"",components:{},props:["NoRelationBaseVisible","isEditNoRelation"],data:function(){return{buttonLoading:!1,innerVisible:!1,hiveInnerForm:{hiveMetaDataDbType:"MySQL",hiveMetaDataIp:"",hiveMetaDataPort:"",hiveMetaDataDbName:"",hiveMetaDataUserName:"",hiveMetaDataPassword:""},baseForm:{id:"",datasourceName:"",databaseType:"",ip:"",port:"",dbname:"",oracleSid:"",schemasName:"",userName:"",password:"",zkQuorum:"",rootdir:"",departmentId:"",sourceLayerId:[],hiveMetaDataDbType:"MySQL",hiveMetaDataIp:"",hiveMetaDataPort:"",hiveMetaDataDbName:"",hiveMetaDataUserName:"",hiveMetaDataPassword:"",hbaseId:"",hiveId:"",hdfsId:""},rules:{datasourceName:[{required:!0,message:"请填写数据源名称",trigger:"blur"}],databaseType:[{required:!0,message:"请选择数据源类型",trigger:"change"}],ip:[{required:!0,message:"请填写ip地址",trigger:"blur"}],port:[{required:!0,message:"请填写端口号",trigger:"blur"}],oracleSid:[{required:!0,message:"请填写数据库SID",trigger:"blur"}],dbname:[{required:!0,message:"请填写数据库名称",trigger:"blur"}],userName:[{message:"请填写数据库用户名",trigger:"blur"}],password:[{message:"请填写密码",trigger:"blur"}],userName1:[{message:"请填写数据库用户名",trigger:"blur"}],password1:[{message:"请填写密码",trigger:"blur"}],schemasName:[{required:!0,message:"请填写模式",trigger:"blur"}],zkQuorum:[{required:!0,message:"请填写zkQuorum",trigger:"blur"}],rootdir:[{required:!0,message:"请填写rootdir",trigger:"blur"}],sourceLayerId:[{required:!0,message:"请选择数据源分层",trigger:"change"}],hiveMetaDataDbType:[{required:!0,message:"请填写元数据类型",trigger:"blur"}],hiveMetaDataIp:[{required:!0,message:"请填写元数据IP",trigger:"blur"}],hiveMetaDataPort:[{required:!0,message:"请填写元数据端口号",trigger:"blur"}],hiveMetaDataDbName:[{required:!0,message:"请填写元数据库名称",trigger:"blur"}],hiveMetaDataUserName:[{required:!0,message:"请填写元数据库用户名",trigger:"blur"}],hiveMetaDataPassword:[{required:!0,message:"请填写元数据库密码",trigger:"blur"}]},layerOptionsProps:{value:"id",label:"name"},layerOptions:[]}},methods:{getLayerMenu:function(){var e=this;this.$urlApi.dataSource.getLayerMenu().then(function(a){e.layerOptions=a.data})},getDataById:function(){var e=this;this.$urlApi.dataSource.getDataById({id:this.isEditNoRelation.id}).then(function(a){e.baseForm.datasourceName=a.data.datasourceName,e.baseForm.databaseType=a.data.databaseType,e.baseForm.ip=a.data.ip,e.baseForm.port=a.data.port,e.baseForm.dbname=a.data.dbname,e.baseForm.oracleSid=a.data.oracleSid,e.baseForm.schemasName=a.data.schemasName,e.baseForm.userName=a.data.userName,e.baseForm.password=a.data.password,e.baseForm.password="",e.baseForm.sourceLayerId=a.data.layerList.split(",").map(Number),"HDFS"==a.data.databaseType&&(e.baseForm.hdfsId=a.hdfsSource.id),"Hbase"==a.data.databaseType&&(e.baseForm.zkQuorum=a.hbaseSource.zkQuorum,e.baseForm.rootdir=a.hbaseSource.rootdir,e.baseForm.hbaseId=a.hbaseSource.id),"Hive"==a.data.databaseType&&(e.hiveInnerForm.hiveMetaDataDbType=a.hiveSource.hiveMetaDataDbType,e.hiveInnerForm.hiveMetaDataIp=a.hiveSource.hiveMetaDataIp,e.hiveInnerForm.hiveMetaDataPort=a.hiveSource.hiveMetaDataPort,e.hiveInnerForm.hiveMetaDataDbName=a.hiveSource.hiveMetaDataDbName,e.hiveInnerForm.hiveMetaDataUserName=a.hiveSource.hiveMetaDataUserName,e.hiveInnerForm.hiveMetaDataPassword=a.hiveSource.hiveMetaDataPassword,e.hiveInnerForm.hiveMetaDataPassword=a.hiveSource.hiveMetaDataPassword,e.baseForm.hiveId=a.hiveSource.id),"Impala"==a.data.databaseType&&(e.hiveInnerForm.hiveMetaDataDbType=a.hiveSource.metadataDbType,e.hiveInnerForm.hiveMetaDataIp=a.hiveSource.ip,e.hiveInnerForm.hiveMetaDataPort=a.hiveSource.port,e.hiveInnerForm.hiveMetaDataDbName=a.hiveSource.dbname,e.hiveInnerForm.hiveMetaDataUserName=a.hiveSource.userName,e.hiveInnerForm.hiveMetaDataPassword=a.hiveSource.password,e.hiveInnerForm.hiveMetaDataPassword=a.hiveSource.password,e.baseForm.hiveId=a.hiveSource.id)})},handleLayerChange:function(e){console.log(e)},submitMetaForm:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.innerVisible=!1})},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.baseForm.hiveMetaDataDbType=a.hiveInnerForm.hiveMetaDataDbType,a.baseForm.hiveMetaDataIp=a.hiveInnerForm.hiveMetaDataIp,a.baseForm.hiveMetaDataPort=a.hiveInnerForm.hiveMetaDataPort,a.baseForm.hiveMetaDataDbName=a.hiveInnerForm.hiveMetaDataDbName,a.baseForm.hiveMetaDataUserName=a.hiveInnerForm.hiveMetaDataUserName,a.baseForm.hiveMetaDataPassword=a.hiveInnerForm.hiveMetaDataPassword,a.baseForm.layerId=a.baseForm.sourceLayerId[a.baseForm.sourceLayerId.length-1],a.baseForm.layerList=a.baseForm.sourceLayerId.join(","),a.buttonLoading=!0,a.$urlApi.dataSource.checkData(a.baseForm).then(function(e){a.$urlApi.dataSource.saveData(a.baseForm).then(function(e){a.buttonLoading=!1,a.$refs.baseForm.resetFields(),a.clearHiveInner(),a.baseForm.sourceLayerId=[],a.baseForm.ip="",a.$emit("NoRelationBaseBack",1)}).catch(function(e){a.buttonLoading=!1})}).catch(function(e){a.buttonLoading=!1})})},resetForm:function(e){this.$refs[e].resetFields(),this.baseForm.sourceLayerId=[],this.baseForm.rootdir="",this.baseForm.userName="",this.baseForm.password="",this.baseForm.port="",this.baseForm.dbname="",this.$refs.hiveInnerForm&&this.$refs.hiveInnerForm.resetFields(),this.clearHiveInner()},openInner:function(){},clearHiveInner:function(){this.hiveInnerForm.hiveMetaDataDbType="MySQL",this.hiveInnerForm.hiveMetaDataIp="",this.hiveInnerForm.hiveMetaDataPort="",this.hiveInnerForm.hiveMetaDataDbName="",this.hiveInnerForm.hiveMetaDataUserName="",this.hiveInnerForm.hiveMetaDataPassword=""},closeDialog:function(){this.buttonLoading=!1,this.$refs.baseForm.resetFields(),this.baseForm.ip="",this.baseForm.userName="",this.baseForm.password="",this.baseForm.port="",this.baseForm.dbname="",this.baseForm.sourceLayerId=[],this.clearHiveInner(),this.$emit("NoRelationBaseBack",0)}},mounted:function(){},watch:{isEditNoRelation:{handler:function(e,a){this.baseForm.rootdir="",this.baseForm.id="",this.baseForm.userName="",this.baseForm.password="",this.baseForm.port="",this.baseForm.dbname="",this.getLayerMenu(),""!==e.id&&(this.getDataById(),this.baseForm.id=e.id)},deep:!0},baseForm:{handler:function(e,a){},deep:!0}}}},Lvcc:function(e,a,t){a=e.exports=t("FZ+f")(!1),a.push([e.i,"",""])},NA98:function(e,a,t){a=e.exports=t("FZ+f")(!1),a.push([e.i,".data-manage .main-inner-allSize{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;min-width:0}.data-manage .main-inner-allSize .main-data-left{width:254px;padding-right:15px;height:100%}.data-manage .main-inner-allSize .main-data-left .tree-menu{height:100%;background:#fff;padding:14px 8px;-webkit-box-sizing:border-box;box-sizing:border-box}.data-manage .main-inner-allSize .main-data-left .tree-menu .searchBtn{color:#797b7b;cursor:pointer}.data-manage .main-inner-allSize .main-data-left .tree-menu .searchBtn:hover{color:#3ba3f8}.data-manage .main-inner-allSize .main-data-left .tree-menu .newCatalog{color:#3ba3f8;font-size:13px;cursor:pointer}.data-manage .main-inner-allSize .main-data-left .tree-menu .tree-c{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.data-manage .main-inner-allSize .main-data-left .tree-menu .tree-c .tree-t-set{width:28px;height:26px;display:block;border-radius:2px;border:1px solid #e1e5ec;margin-right:7px;cursor:pointer;background:#f0f1f4;font-size:14px;line-height:26px;text-align:center}.data-manage .main-inner-allSize .main-data-left .tree-menu .tree-b{height:calc(100% - 72px);border-right:1px solid hsla(0,0%,59%,.26)}.data-manage .main-inner-allSize .main-data-left .tree-menu .tree-b .nodeItem{width:100%;position:relative}.data-manage .main-inner-allSize .main-data-left .tree-menu .tree-b .nodeItem .node-label{display:inline-block;width:100px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.data-manage .main-inner-allSize .main-data-left .tree-menu .tree-b .nodeItem .node-label .node-icon{margin-right:5px;font-size:14px}.data-manage .main-inner-allSize .main-data-left .tree-menu .tree-b .nodeItem .node-label:hover{display:inline-block}.data-manage .main-inner-allSize .main-data-left .tree-menu .tree-b .nodeItem .nodeOpt{display:none!important;float:right;position:relative;top:-2px;font-size:14px;font-weight:700}.data-manage .main-inner-allSize .main-data-left .tree-menu .tree-b .nodeItem .nodeOptDetail{display:none;position:absolute;right:0;top:-4px;height:26px;line-height:26px;font-size:14px;background:rgba(51,55,67,.7);border-radius:2px;cursor:default;padding:0 8px}.data-manage .main-inner-allSize .main-data-left .tree-menu .tree-b .nodeItem .nodeOptDetail .el-button{color:#fff}.data-manage .main-inner-allSize .main-data-left .tree-menu .tree-b .nodeItem:hover .nodeOptDetail{display:inline-block!important;text-align:right}.data-manage .main-inner-allSize .main-data-right{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:0}.data-manage .main-inner-allSize .main-data-right .create-data-source-tip{padding:8px 0;background-color:#f0f7ff;color:#5e6977;font-size:12px;text-align:center;float:right;width:calc(100% - 150px)}.data-manage .main-inner-allSize .main-data-right .main-data-right-t .superSearch{margin-left:10px;color:#3e4456}.data-manage .main-inner-allSize .main-data-right .main-data-right-b{padding:15px 0;height:calc(100% - 95px)}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .no-data-pic-outer{height:100%;text-align:center;position:relative;width:100%}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .no-data-pic-outer .no-data-box{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .no-data-pic-outer .no-data-box .no-data-text{color:#9da1a9;padding:20px 0}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .analyze-b{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .analyze-b li{margin-right:60px;overflow:hidden;margin-bottom:30px;border:1px solid #e1e5ec;text-align:center;width:187px;-webkit-box-shadow:0 1px 4px 0 hsla(0,0%,84%,.5);box-shadow:0 1px 4px 0 hsla(0,0%,84%,.5);border-radius:2px;position:relative;-webkit-transition:2s linear;transition:2s linear}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .analyze-b li .check-header{line-height:32px;background:#acb5c3;color:#fff;margin:0;cursor:pointer}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .analyze-b li .check-body{background:#f9f9fa;padding:10px;padding-bottom:5px;text-align:left;-webkit-box-sizing:border-box;box-sizing:border-box}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .analyze-b li .check-body span{line-height:28px;font-size:16px;font-weight:700}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .analyze-b li .check-footer{line-height:32px;border-top:1px solid #e1e5ec;height:32px}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .analyze-b li .check-set{position:absolute;width:100%;height:32px;background:rgba(51,55,67,.7);bottom:-32px;left:0;cursor:pointer;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:.5s;transition:.5s;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .analyze-b li .check-set span{width:45px;display:inline-block;height:100%;font-size:16px;line-height:32px;text-align:center;color:#fff}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .analyze-b li .check-set span:hover{background:hsla(0,0%,100%,.27)}.data-manage .main-inner-allSize .main-data-right .main-data-right-b .analyze-b li:hover .check-set{bottom:0}.super-search-table td,.super-search-table th{padding:6px 0}",""])},SM4n:function(e,a,t){var r=t("jNXL");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("4d032937",r,!0,{})},V6Rg:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-dialog",{staticClass:"relation-base",attrs:{title:""===e.isEditRelation.id?"新建数据源":"编辑数据源",visible:e.RelationBaseVisible,"before-close":e.closeDialog,"lock-scroll":!1,"close-on-click-modal":!1,width:"760px"},on:{"update:visible":function(a){e.RelationBaseVisible=a}}},[t("el-form",{ref:"baseForm",attrs:{model:e.baseForm,rules:e.rules,size:"small","label-width":"100px","label-position":"right"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"数据源名称",prop:"datasourceName"}},[t("el-input",{attrs:{maxlength:"20",placeholder:"最大长度为20个字符",disabled:""!==e.isEditRelation.id},model:{value:e.baseForm.datasourceName,callback:function(a){e.$set(e.baseForm,"datasourceName",a)},expression:"baseForm.datasourceName"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"数据源类型",prop:"databaseType"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:""!==e.isEditRelation.id,size:"small",placeholder:"请选择数据源类型"},model:{value:e.baseForm.databaseType,callback:function(a){e.$set(e.baseForm,"databaseType",a)},expression:"baseForm.databaseType"}},[t("el-option",{attrs:{value:"MySQL",label:"MySQL"}}),e._v(" "),t("el-option",{attrs:{value:"Oracle",label:"Oracle"}}),e._v(" "),t("el-option",{attrs:{value:"SqlServer",label:"SqlServer"}}),e._v(" "),t("el-option",{attrs:{value:"DB2",label:"DB2"}}),e._v(" "),t("el-option",{attrs:{value:"PostgreSQL",label:"PostgreSQL"}}),e._v(" "),t("el-option",{attrs:{value:"Sybase",label:"Sybase"}}),e._v(" "),t("el-option",{attrs:{value:"Teradata",label:"Teradata"}})],1)],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"IP",prop:"ip"}},[t("el-input",{attrs:{disabled:""!==e.isEditRelation.id},model:{value:e.baseForm.ip,callback:function(a){e.$set(e.baseForm,"ip",a)},expression:"baseForm.ip"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"端口号",prop:"port"}},[t("el-input",{attrs:{disabled:""!==e.isEditRelation.id},model:{value:e.baseForm.port,callback:function(a){e.$set(e.baseForm,"port",a)},expression:"baseForm.port"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},["Oracle"!==e.baseForm.databaseType?t("el-form-item",{attrs:{prop:"dbname",label:"数据库名"}},[t("el-input",{attrs:{disabled:""!==e.isEditRelation.id},model:{value:e.baseForm.dbname,callback:function(a){e.$set(e.baseForm,"dbname",a)},expression:"baseForm.dbname"}})],1):t("el-form-item",{attrs:{prop:"oracleSid",label:"数据库SID"}},[t("el-input",{attrs:{disabled:""!==e.isEditRelation.id},model:{value:e.baseForm.oracleSid,callback:function(a){e.$set(e.baseForm,"oracleSid",a)},expression:"baseForm.oracleSid"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},["Oracle"===e.baseForm.databaseType||"SqlServer"===e.baseForm.databaseType||"DB2"===e.baseForm.databaseType||"PostgreSQL"===e.baseForm.databaseType||"Sybase"===e.baseForm.databaseType?t("el-form-item",{attrs:{label:"模式",prop:"schemasName"}},[t("el-input",{attrs:{disabled:""!==e.isEditRelation.id},model:{value:e.baseForm.schemasName,callback:function(a){e.$set(e.baseForm,"schemasName",a)},expression:"baseForm.schemasName"}})],1):e._e()],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[t("el-input",{attrs:{disabled:""!==e.isEditRelation.id},model:{value:e.baseForm.userName,callback:function(a){e.$set(e.baseForm,"userName",a)},expression:"baseForm.userName"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:e.baseForm.password,callback:function(a){e.$set(e.baseForm,"password",a)},expression:"baseForm.password"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"所属部门",disabled:!0}},[t("el-input",{attrs:{disabled:!0},model:{value:e.baseForm.departmentId,callback:function(a){e.$set(e.baseForm,"departmentId",a)},expression:"baseForm.departmentId"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"数据源分层",prop:"sourceLayerId"}},[t("el-cascader",{staticStyle:{width:"100%"},attrs:{"change-on-select":"",options:e.layerOptions,props:e.layerOptionsProps},on:{change:e.handleLayerChange},model:{value:e.baseForm.sourceLayerId,callback:function(a){e.$set(e.baseForm,"sourceLayerId",a)},expression:"baseForm.sourceLayerId"}})],1)],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[""==e.isEditRelation.id?t("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.resetForm("baseForm")}}},[e._v("重 置")]):e._e(),e._v(" "),t("el-button",{attrs:{type:"danger",size:"small",loading:e.buttonLoading},on:{click:function(a){return e.submitForm("baseForm")}}},[e._v("保 存")])],1)],1)},i=[],o={render:r,staticRenderFns:i};a.a=o},Y7Zk:function(e,a,t){var r=t("Lvcc");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("62c233ac",r,!0,{})},aER2:function(e,a,t){var r=t("lbl5");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("ee520520",r,!0,{})},byEV:function(e,a,t){var r=t("NA98");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("47e7fab5",r,!0,{})},cZQg:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-dialog",{staticClass:"no-relation-base",attrs:{title:""===e.isEditNoRelation.id?"新建数据源":"编辑数据源",visible:e.NoRelationBaseVisible,"before-close":e.closeDialog,"lock-scroll":!1,"close-on-click-modal":!1,width:"760px"},on:{"update:visible":function(a){e.NoRelationBaseVisible=a}}},[t("el-dialog",{attrs:{"close-on-click-modal":!1,width:"500px",title:"元数据库配置",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(a){e.innerVisible=a},open:e.openInner}},[t("el-form",{ref:"hiveInnerForm",attrs:{model:e.hiveInnerForm,rules:e.rules,size:"small","label-width":"100px","label-position":"right"}},[t("el-form-item",{attrs:{label:"数据源类型"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.hiveInnerForm.hiveMetaDataDbType,callback:function(a){e.$set(e.hiveInnerForm,"hiveMetaDataDbType",a)},expression:"hiveInnerForm.hiveMetaDataDbType"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"IP",prop:"hiveMetaDataIp"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.hiveInnerForm.hiveMetaDataIp,callback:function(a){e.$set(e.hiveInnerForm,"hiveMetaDataIp",a)},expression:"hiveInnerForm.hiveMetaDataIp"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"数据库端口",prop:"hiveMetaDataPort"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.hiveInnerForm.hiveMetaDataPort,callback:function(a){e.$set(e.hiveInnerForm,"hiveMetaDataPort",a)},expression:"hiveInnerForm.hiveMetaDataPort"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"数据库名称",prop:"hiveMetaDataDbName"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.hiveInnerForm.hiveMetaDataDbName,callback:function(a){e.$set(e.hiveInnerForm,"hiveMetaDataDbName",a)},expression:"hiveInnerForm.hiveMetaDataDbName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"用户名",prop:"hiveMetaDataUserName"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.hiveInnerForm.hiveMetaDataUserName,callback:function(a){e.$set(e.hiveInnerForm,"hiveMetaDataUserName",a)},expression:"hiveInnerForm.hiveMetaDataUserName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"hiveMetaDataPassword"}},[t("el-input",{attrs:{type:"password"},model:{value:e.hiveInnerForm.hiveMetaDataPassword,callback:function(a){e.$set(e.hiveInnerForm,"hiveMetaDataPassword",a)},expression:"hiveInnerForm.hiveMetaDataPassword"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){e.innerVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.submitMetaForm("hiveInnerForm")}}},[e._v("确 定")])],1)],1),e._v(" "),t("el-form",{ref:"baseForm",attrs:{model:e.baseForm,rules:e.rules,size:"small","label-width":"110px","label-position":"right"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"数据源名称",prop:"datasourceName"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id,maxlength:"20",placeholder:"最大长度为20个字符"},model:{value:e.baseForm.datasourceName,callback:function(a){e.$set(e.baseForm,"datasourceName",a)},expression:"baseForm.datasourceName"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"数据源类型",prop:"databaseType"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:""!==e.isEditNoRelation.id,size:"small",placeholder:"请选择数据源类型"},model:{value:e.baseForm.databaseType,callback:function(a){e.$set(e.baseForm,"databaseType",a)},expression:"baseForm.databaseType"}},[t("el-option",{attrs:{value:"HDFS",label:"HDFS"}}),e._v(" "),t("el-option",{attrs:{value:"Hive",label:"Hive"}}),e._v(" "),t("el-option",{attrs:{value:"Hbase",label:"Hbase"}}),e._v(" "),t("el-option",{attrs:{value:"Impala",label:"Impala"}})],1)],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},["Hbase"!==e.baseForm.databaseType?t("el-form-item",{attrs:{label:"IP",prop:"ip"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.baseForm.ip,callback:function(a){e.$set(e.baseForm,"ip",a)},expression:"baseForm.ip"}})],1):t("el-form-item",{attrs:{label:"IP地址",prop:"zkQuorum"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.baseForm.zkQuorum,callback:function(a){e.$set(e.baseForm,"zkQuorum",a)},expression:"baseForm.zkQuorum"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"端口号",prop:"port"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.baseForm.port,callback:function(a){e.$set(e.baseForm,"port",a)},expression:"baseForm.port"}})],1)],1)],1),e._v(" "),"Hbase"===e.baseForm.databaseType?t("div",[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"表空间",prop:"dbname"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.baseForm.dbname,callback:function(a){e.$set(e.baseForm,"dbname",a)},expression:"baseForm.dbname"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"rootdir",prop:"rootdir"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.baseForm.rootdir,callback:function(a){e.$set(e.baseForm,"rootdir",a)},expression:"baseForm.rootdir"}})],1)],1)],1)],1):e._e(),e._v(" "),"Hive"===e.baseForm.databaseType?t("div",[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"数据库",prop:"dbname"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.baseForm.dbname,callback:function(a){e.$set(e.baseForm,"dbname",a)},expression:"baseForm.dbname"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:""}},[t("el-button",{attrs:{type:"text"},on:{click:function(a){e.innerVisible=!0}}},[e._v("元数据库配置")])],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.baseForm.userName,callback:function(a){e.$set(e.baseForm,"userName",a)},expression:"baseForm.userName"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{attrs:{type:"password"},model:{value:e.baseForm.password,callback:function(a){e.$set(e.baseForm,"password",a)},expression:"baseForm.password"}})],1)],1)],1)],1):e._e(),e._v(" "),"Impala"===e.baseForm.databaseType?t("div",[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"数据库",prop:"dbname"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.baseForm.dbname,callback:function(a){e.$set(e.baseForm,"dbname",a)},expression:"baseForm.dbname"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:""}},[t("el-button",{attrs:{type:"text"},on:{click:function(a){e.innerVisible=!0}}},[e._v("元数据库配置")])],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"用户名",prop:"userName1"}},[t("el-input",{attrs:{disabled:""!==e.isEditNoRelation.id},model:{value:e.baseForm.userName,callback:function(a){e.$set(e.baseForm,"userName",a)},expression:"baseForm.userName"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"密码",prop:"password1"}},[t("el-input",{attrs:{type:"password"},model:{value:e.baseForm.password,callback:function(a){e.$set(e.baseForm,"password",a)},expression:"baseForm.password"}})],1)],1)],1)],1):e._e(),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"所属部门"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.baseForm.departmentId,callback:function(a){e.$set(e.baseForm,"departmentId",a)},expression:"baseForm.departmentId"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"数据源分层",prop:"sourceLayerId"}},[t("el-cascader",{staticStyle:{width:"100%"},attrs:{"change-on-select":"",options:e.layerOptions,props:e.layerOptionsProps},on:{change:e.handleLayerChange},model:{value:e.baseForm.sourceLayerId,callback:function(a){e.$set(e.baseForm,"sourceLayerId",a)},expression:"baseForm.sourceLayerId"}})],1)],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[""==e.isEditNoRelation.id?t("el-button",{staticClass:"reset-btn",attrs:{type:"info",size:"small"},on:{click:function(a){return e.resetForm("baseForm")}}},[e._v("重 置")]):e._e(),e._v(" "),t("el-button",{attrs:{type:"danger",size:"small",loading:e.buttonLoading},on:{click:function(a){return e.submitForm("baseForm")}}},[e._v("保 存")])],1)],1)},i=[],o={render:r,staticRenderFns:i};a.a=o},eQsC:function(e,a,t){a=e.exports=t("FZ+f")(!1),a.push([e.i,".no-relation-base .check-ok-status{padding-left:110px;font-size:12px;color:#67c23a;height:25px;line-height:25px;margin:0}.no-relation-base .check-false-status{display:none;margin:0}",""])},fj6z:function(e,a,t){"use strict";var r=t("yNAu"),i=t.n(r),o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};a.a={name:"form-edit",data:function(){return{baseform:{databaseType:"",dataSourceName:"",description:""},extraform:{},extraformItems:[]}},methods:{resetForm:function(){this.$refs.baseform&&this.$refs.baseform.resetFields(),this.$refs.extraform&&this.$refs.extraform.resetFields()},resetData:function(){this.resetForm(),this.extraform={},this.extraformItems=[]},getForm:function(e){var a={};return e.forEach(function(e){a[e.prop]=e.value}),o({},a)},init:function(e){var a=this;this.$urlApi.datasourceManage.getSourceById({id:e.datasourceId||e.id}).then(function(e){var t=e.data;if(a.baseform.databaseType=t.databaseType,a.baseform.dataSourceName=t.datasourceName,a.baseform.description=t.description,a.extraformItems=i.a[t.databaseType],a.extraformItems.forEach(function(e){void 0!==t[e.prop]&&(e.value=t[e.prop])}),a.extraform=a.getForm(a.extraformItems),"Hbase"===t.databaseType&&(a.extraform.zkQuorum=t.ip),"HDFS"===t.databaseType){var r=e.hdfsSource;a.extraform.defaultFs=r.defaultFs,a.extraform.userName=t.userName,a.extraform.haveKerberos=r.haveKerberos}if("Hive"===t.databaseType||"Impala"===t.databaseType){var o=e.hiveSource;a.extraform.defaultFs=o.defaultFs,a.extraform.warehouseDir=o.warehouseDir,a.extraform.url=o.url,a.extraform.userName=o.userName,a.extraform.password=o.password,a.extraform.haveKerberos=o.haveKerberos}})}}}},jNXL:function(e,a,t){a=e.exports=t("FZ+f")(!1),a.push([e.i,"",""])},lbl5:function(e,a,t){a=e.exports=t("FZ+f")(!1),a.push([e.i,".collect-datasource-edit .el-form-item{margin-bottom:0}.collect-datasource-edit .el-form-item .view-datasource-text{font-size:12px}",""])},n2IS:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-dialog",{staticClass:"user-accredit",attrs:{"close-on-click-modal":!1,title:"用户授权",visible:e.UserAccreditVisible,"before-close":e.closeDialog,width:"760px"},on:{"update:visible":function(a){e.UserAccreditVisible=a}}},[t("el-form",{ref:"ruleCatalogue",attrs:{model:e.baseForm,"label-width":"100px","label-position":"right"}},[t("el-form-item",{attrs:{label:"上级目录"}},[t("el-input",{attrs:{size:"medium",maxlength:"20",placeholder:"最大长度为20个字符"},model:{value:e.baseForm.prevName,callback:function(a){e.$set(e.baseForm,"prevName",a)},expression:"baseForm.prevName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"目录名称"}},[t("el-input",{attrs:{size:"medium",maxlength:"20",placeholder:"最大长度为20个字符"},model:{value:e.baseForm.currName,callback:function(a){e.$set(e.baseForm,"currName",a)},expression:"baseForm.currName"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"info",size:"small"},on:{click:e.closeDialog}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.submitForm("ruleForm")}}},[e._v("保 存")])],1)],1)},i=[],o={render:r,staticRenderFns:i};a.a=o},o0wW:function(e,a,t){"use strict";function r(e){t("Y7Zk")}var i=t("s8oF"),o=t("Ch5O"),s=t("VU/8"),l=r,n=s(i.a,o.a,!1,l,null,null);a.a=n.exports},pt9d:function(e,a,t){var r=t("0GTw");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("75e34d5a",r,!0,{})},rLLW:function(e,a,t){"use strict";a.a={name:"",components:{},props:["RelationBaseVisible","isEditRelation"],data:function(){return{buttonLoading:!1,baseForm:{id:"",datasourceName:"",databaseType:"",ip:"",port:"",dbname:"",oracleSid:"",schemasName:"",userName:"",password:"",departmentId:"",sourceLayerId:[]},rules:{datasourceName:[{required:!0,message:"请填写数据源名称",trigger:"blur"}],databaseType:[{required:!0,message:"请选择数据源类型",trigger:"change"}],ip:[{required:!0,message:"请填写ip地址",trigger:"blur"}],port:[{required:!0,message:"请填写端口号",trigger:"blur"}],oracleSid:[{required:!0,message:"请填写数据库SID",trigger:"blur"}],dbname:[{required:!0,message:"请填写数据库名称",trigger:"blur"}],userName:[{required:!0,message:"请填写数据库用户名",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"}],schemasName:[{required:!0,message:"请填写模式",trigger:"blur"}],sourceLayerId:[{required:!0,message:"请选择数据源分层",trigger:"change"}]},layerOptionsProps:{value:"id",label:"name"},layerOptions:[]}},methods:{getLayerMenu:function(){var e=this;this.$urlApi.dataSource.getLayers().then(function(a){e.layerOptions=a.data})},getDataById:function(){var e=this;this.$urlApi.dataSource.getDataById({id:this.isEditRelation.id}).then(function(a){e.baseForm.datasourceName=a.data.datasourceName,e.baseForm.databaseType=a.data.databaseType,e.baseForm.ip=a.data.ip,e.baseForm.port=a.data.port,e.baseForm.dbname=a.data.dbname,e.baseForm.oracleSid=a.data.oracleSid,e.baseForm.schemasName=a.data.schemasName,e.baseForm.userName=a.data.userName,e.baseForm.password=a.data.password,e.baseForm.password="",e.baseForm.sourceLayerId=a.data.layerList.split(",").map(Number)})},handleLayerChange:function(e){},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){e&&(a.baseForm.layerId=a.baseForm.sourceLayerId[a.baseForm.sourceLayerId.length-1],a.baseForm.layerList=a.baseForm.sourceLayerId.join(","),a.buttonLoading=!0,a.$urlApi.dataSource.checkData(a.baseForm).then(function(e){a.$urlApi.dataSource.saveData(a.baseForm).then(function(e){a.buttonLoading=!1,a.baseForm.sourceLayerId=[],a.baseForm.schemasName="",a.$refs.baseForm.resetFields(),a.$emit("RelationBaseBack",1)}).catch(function(e){a.buttonLoading=!1})}).catch(function(e){a.buttonLoading=!1}))})},resetForm:function(e){this.baseForm.sourceLayerId=[],this.$refs[e].resetFields()},closeDialog:function(){this.buttonLoading=!1,this.$refs.baseForm.resetFields(),this.baseForm.sourceLayerId=[],this.baseForm.schemasName="",this.$emit("RelationBaseBack",0)}},mounted:function(){this.getLayerMenu()},watch:{isEditRelation:{handler:function(e,a){this.baseForm.schemasName="",this.baseForm.id="",this.getLayerMenu(),""!==e.id&&(this.getDataById(),this.baseForm.id=e.id)},deep:!0}}}},s8oF:function(e,a,t){"use strict";a.a={name:"relationsSource",props:{dialog:{type:Object,default:{}}},data:function(){return{form:{layer:"",datasource:""},rules:{datasource:[{required:!0,message:"请选择需要关联的数据源",trigger:"change"}]},datasourcelist:[],buttonLoading:!1}},methods:{cancelForm:function(){this.$emit("relationSource"),this.resetData()},submitForm:function(){var e=this;this.$refs.form.validate(function(a){if(a){var t={layerId:e.$props.dialog.data.layerId,sourceId:e.form.datasource};e.$urlApi.dataSource.addSourceOnLayer(t).then(function(a){e.$toast("success","关联成功！"),e.$emit("relationSource",1),e.resetData()})}})},resetData:function(){this.form={layer:"",datasource:""},this.datasourcelist=[]},openDialog:function(){var e=this;this.$urlApi.dataSource.getUnrelationSource().then(function(a){e.datasourcelist=a.data}),this.$urlApi.dataSource.getLayerPath({layerId:this.$props.dialog.data.layerId}).then(function(a){e.form.layer=a.data})},closeDialog:function(){this.$emit("relationSource"),this.resetData()}}}},sENT:function(e,a,t){"use strict";function r(e){t("4Csh")}var i=t("KVRF"),o=t("cZQg"),s=t("VU/8"),l=r,n=s(i.a,o.a,!1,l,null,null);a.a=n.exports},"t/Y0":function(e,a,t){"use strict";var r=t("xy9k"),i=t("zph2"),o=t("sENT"),s=t("o0wW"),l=t("xjj/"),n=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};a.a={name:"",components:{UserAccredit:r.a,RelationBase:i.a,NoRelationBase:o.a,RelationSource:s.a,ViewDataSource:l.a},data:function(){return{buttonLoading:!1,total:0,currentPage:1,pageLength:12,listAction:[],parentContents:"",isEditRelation:{currTime:(new Date).getTime(),id:""},isEditNoRelation:{currTime:(new Date).getTime(),id:""},addLayerVisible:!1,RelationBaseVisible:!1,NoRelationBaseVisible:!1,UserAccreditVisible:!1,treeName:"",dataSourceName:"",dataSourceType:"",addLayerForm:{id:"",name:"",parentId:-1,remark:""},rules:{name:[{required:!0,message:"请填写分层名称",trigger:"blur"}],remark:[]},treeData:[],defaultProps:{children:"children",label:"name"},layerId:"",showTip:!1,dialog:{visible:!1,data:{}},currentLayer:"",dialog1:{visible:!1}}},methods:{getList:function(){var e=this,a={start:(this.currentPage-1)*this.pageLength,length:this.pageLength,layerId:this.layerId};this.$urlApi.dataSource.getSourceByLayerId(a).then(function(a){e.listAction=Array.isArray(a.data)?a.data:[],e.total=a.recordsFiltered})},filterNode:function(e,a){return!e||-1!==a.name.toLowerCase().indexOf(e.toLowerCase())},getLayerMenu:function(){var e=this;this.$urlApi.dataSource.getLayers().then(function(a){e.treeData=a.data})},dataSelect:function(e){this.dataSourceType=e,this.getList()},saveList:function(){this.getList()},handleSizeChange:function(e){this.this.pageLength=e,this.currentPage=1,this.getList()},handleCurrentChange:function(e){this.currentPage=e,this.getList()},editData:function(e){var a=(new Date).getTime();"HDFS"!=e.databaseType&&"Hive"!=e.databaseType&&"Hbase"!=e.databaseType&&"Impala"!=e.databaseType?(this.RelationBaseVisible=!0,this.isEditRelation.id=e.id,this.isEditRelation.currTime=a):(this.NoRelationBaseVisible=!0,this.isEditNoRelation.id=e.id,this.isEditNoRelation.currTime=a)},deleteData:function(e){var a=this;this.$confirm("确定删除？","系统消息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",closeOnClickModal:!1}).then(function(){var t={layerId:a.layerId,sourceId:e};a.$urlApi.dataSource.removeSourceFromLayer(n({},t)).then(function(e){a.getList(),a.$toast("success","删除成功")})}).catch(function(){})},handleNodeClick:function(e){this.currentLayer=e,this.layerId=e.id,this.getList()},renderContent:function(e,a){var t=this,r=a.node,i=a.data,o=(a.store,e("span",{class:"nodeItem"},[e("span",[e("span",{class:"node-label"},[e("span",{class:"node-icon"},[e("svg-icon",{attrs:{iconClass:"文件夹"}})]),r.label]),e("span",{class:"nodeOptDetail"},[e("el-tooltip",{class:"item",attrs:{effect:"dark",content:"新建下级目录",placement:"top"}},[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.addNewLayer(i,r,e)}}},[e("svg-icon",{attrs:{iconClass:"g-添加"}})])]),e("el-tooltip",{class:"item",attrs:{effect:"dark",content:"编辑",placement:"top"}},[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.editLayer(i,r,e)}}},[e("svg-icon",{attrs:{iconClass:"编辑1"}})])])])])])),s=e("span",{class:"nodeItem"},[e("span",[e("span",{class:"node-label"},[e("span",{class:"node-icon"},[e("svg-icon",{attrs:{iconClass:"g-层应用"}})]),r.label]),e("span",{class:"nodeOptDetail"},[e("el-tooltip",{attrs:{className:"item",effect:"dark",content:"新建下级目录",placement:"top"}},[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.addNewLayer(i,r,e)}}},[e("svg-icon",{attrs:{iconClass:"g-添加"}})])]),e("el-tooltip",{class:"item",attrs:{effect:"dark",content:"编辑",placement:"top"}},[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.editLayer(i,r,e)}}},[e("svg-icon",{attrs:{iconClass:"编辑1"}})])]),e("el-tooltip",{class:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.deleteLayer(i,r,e)}}},[e("svg-icon",{attrs:{iconClass:"删除"}})])])])])]),l=e("span",{class:"nodeItem"},[e("span",[e("span",{class:"node-label"},[r.label]),e("span",{class:"nodeOptDetail"},[e("el-tooltip",{attrs:{className:"item",effect:"dark",content:"编辑",placement:"top"}},[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.editLayer(i,r,e)}}},[e("svg-icon",{attrs:{iconClass:"编辑1"}})])]),e("el-tooltip",{attrs:{className:"item",effect:"dark",content:"删除",placement:"top"}},[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.deleteLayer(i,r,e)}}},[e("svg-icon",{attrs:{iconClass:"删除"}})])])])])]);switch(r.level){case 1:return o;case 2:case 3:return s;default:return l}},handleCommand:function(e){var a=(new Date).getTime();"a"===e?(this.RelationBaseVisible=!0,this.isEditRelation.currTime=a):(this.NoRelationBaseVisible=!0,this.isEditNoRelation.currTime=a)},RelationBaseBack:function(e){var a=this;1===e&&(this.getList(),!this.isEditRelation.id&&(this.showTip=!0),setTimeout(function(){return a.closeTip()},3e3)),this.RelationBaseVisible=!1,this.isEditRelation.id=""},NoRelationBaseBack:function(e){var a=this;1===e&&(this.getList(),!this.isEditNoRelation.id&&(this.showTip=!0),setTimeout(function(){return a.closeTip()},3e3)),this.NoRelationBaseVisible=!1,this.isEditNoRelation.id=""},setAccredit:function(){this.UserAccreditVisible=!0},UserAccreditBack:function(){this.UserAccreditVisible=!1},addNewLayer:function(e,a,t){this.addLayerVisible=!0,this.parentContents=e.name,-1!=e&&(this.addLayerForm.parentId=e.id)},closeModal:function(){this.$refs.addLayerForm.resetFields(),this.addLayerForm.id="",this.addLayerForm.name="",this.addLayerForm.parentId=-1,this.addLayerForm.remark="",this.addLayerVisible=!1},editLayer:function(e,a,t){this.addLayerForm.name=e.name,this.addLayerForm.remark=e.remark,this.addLayerForm.parentId=e.parentId,this.addLayerForm.id=e.id,this.addLayerVisible=!0,this.parentContents=a.parent?a.parent.data.name:""},submitLayer:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;var t={};a.addLayerForm.id?t=n({},a.addLayerForm):(delete a.addLayerForm.id,t=n({},a.addLayerForm)),a.buttonLoading=!0,a.$urlApi.dataSource.saveOrUpdateLayer(t).then(function(e){a.buttonLoading=!1,a.getLayerMenu(),a.addLayerVisible=!1,a.$toast("success","操作成功"),a.closeModal()}).catch(function(e){a.buttonLoading=!1})})},deleteLayer:function(e,a,t){var r=this;this.$confirm("会将分层和分层下关联的数据源删除，是否删除？","系统消息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",closeOnClickModal:!1}).then(function(){r.$urlApi.dataSource.deleteLayer({layerId:e.id}).then(function(e){r.$toast("success","删除成功"),r.getLayerMenu()})}).catch(function(){})},closeTip:function(){this.showTip=!1},createSource:function(){this.$refs.createSource.handleClick()},createDataCollect:function(){this.$router.push("/metaData/default/collcet")},createDataStandard:function(){this.$router.push({path:"/standard/default/meta",query:{type:"add"}})},relationDatasource:function(){var e=this;this.dialog={visible:!0,data:{layerId:e.layerId,currentLayer:""}}},relationSource:function(e){this.dialog={visible:!1,data:{}},e&&this.handleNodeClick(this.currentLayer)},showDatasource:function(e){this.dialog1.visible=!0,this.dialog1.data=e},openDialog:function(){var e=this;this.$nextTick(function(){e.$refs.viewDataSource.init(e.dialog1.data)})},closeDialog:function(){this.dialog1.visible=!1,this.dialog1.data=""}},mounted:function(){var e=this;this.$urlApi.dataSource.getLayers().then(function(a){e.treeData=a.data,e.$nextTick(function(){e.handleNodeClick(a.data[0]),e.$refs.tree2.setCurrentKey(a.data[0].id)})})},watch:{treeName:function(e){this.$refs.tree2.filter(e)}}}},xj2m:function(e,a,t){"use strict";function r(e){t("byEV")}Object.defineProperty(a,"__esModule",{value:!0});var i=t("t/Y0"),o=t("DgOF"),s=t("VU/8"),l=r,n=s(i.a,o.a,!1,l,null,null);a.default=n.exports},"xjj/":function(e,a,t){"use strict";function r(e){t("aER2")}var i=t("fj6z"),o=t("8nV/"),s=t("VU/8"),l=r,n=s(i.a,o.a,!1,l,null,null);a.a=n.exports},xy9k:function(e,a,t){"use strict";function r(e){t("SM4n")}var i=t("A02o"),o=t("n2IS"),s=t("VU/8"),l=r,n=s(i.a,o.a,!1,l,null,null);a.a=n.exports},yNAu:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={MySQL:[{label:"IP",prop:"ip",value:"",type:"input",placeholder:"请输入IP"},{label:"端口",prop:"post",value:"",type:"input",placeholder:"默认端口3306"},{label:"数据库用户名",prop:"userName",value:"",type:"input",placeholder:"请输入数据库用户名"},{label:"数据库密码",prop:"password",value:"",type:"password",placeholder:"请输入数据库密码"},{label:"数据库名",prop:"dbname",value:"",type:"input",placeholder:"请输入数据库名"},{label:"字符集",prop:"characterSet",value:"UTF-8",type:"select",options:[{value:"UTF-8",label:"UTF-8"},{value:"GBK",label:"GBK"}],placeholder:"请选择字符集"},{label:"URL连接参数",prop:"urlConfig",value:"",type:"input",isWidth:!0,placeholder:"请输入URL连接参数"}],Oracle:[{label:"IP",prop:"ip",value:"",type:"input",placeholder:"请输入IP"},{label:"端口",prop:"post",value:"",type:"input",placeholder:"默认端口1521"},{label:"数据库用户名",prop:"userName",value:"",type:"input",placeholder:"请输入数据库用户名"},{label:"数据库密码",prop:"password",value:"",type:"password",placeholder:"请输入数据库密码"},{label:"数据库SID",prop:"dbname",value:"",type:"input",placeholder:"请输入数据库SID"},{label:"Schema",prop:"schemasName",value:"",type:"input",placeholder:"请输入Schema"}],SqlServer:[{label:"IP",prop:"ip",value:"",type:"input",placeholder:"请输入IP"},{label:"端口",prop:"post",value:"",type:"input",placeholder:"默认端口1433"},{label:"数据库用户名",prop:"userName",value:"",type:"input",placeholder:"请输入数据库用户名"},{label:"数据库密码",prop:"password",value:"",type:"password",placeholder:"请输入数据库密码"},{label:"数据库名",prop:"dbname",value:"",type:"input",placeholder:"请输入数据库名"},{label:"Schema",prop:"schemasName",value:"",type:"input",placeholder:"请输入Schema"}],DB2:[{label:"IP",prop:"ip",value:"",type:"input",placeholder:"请输入IP"},{label:"端口",prop:"post",value:"",type:"input",placeholder:"默认端口50000"},{label:"数据库用户名",prop:"userName",value:"",type:"input",placeholder:"请输入数据库用户名"},{label:"数据库密码",prop:"password",value:"",type:"password",placeholder:"请输入数据库密码"},{label:"数据库名称",prop:"dbname",value:"",type:"input",placeholder:"请输入数据库名称"},{label:"字符集",prop:"characterSet",value:"UTF-8",type:"select",options:[{value:"UTF-8",label:"UTF-8"},{value:"GBK",label:"GBK"}],placeholder:"请选择字符集"},{label:"Schema",prop:"schemasName",value:"",type:"input",isWidth:!0,placeholder:"请输入Schema"}],PostgreSQL:[{label:"IP",prop:"ip",value:"",type:"input",placeholder:"请输入IP"},{label:"端口",prop:"post",value:"",type:"input",placeholder:"默认端口5432"},{label:"数据库用户名",prop:"userName",value:"",type:"input",placeholder:"请输入数据库用户名"},{label:"数据库密码",prop:"password",value:"",type:"password",placeholder:"请输入数据库密码"},{label:"数据库名称",prop:"dbname",value:"",type:"input",placeholder:"请输入数据库名称"},{label:"字符集",prop:"characterSet",value:"UTF-8",type:"select",options:[{value:"UTF-8",label:"UTF-8"},{value:"GBK",label:"GBK"}],placeholder:"请选择字符集"},{label:"Schema",prop:"schemasName",value:"",type:"input",isWidth:!0,placeholder:"请输入Schema"}],Sybase:[{label:"IP",prop:"ip",value:"",type:"input",placeholder:"请输入IP"},{label:"端口",prop:"post",value:"",type:"input",placeholder:"默认端口5000"},{label:"数据库用户名",prop:"userName",value:"",type:"input",placeholder:"请输入数据库用户名"},{label:"数据库密码",prop:"password",value:"",type:"password",placeholder:"请输入数据库密码"},{label:"数据库名",prop:"dbname",value:"",type:"input",placeholder:"请输入数据库名"},{label:"字符集",prop:"characterSet",value:"UTF-8",type:"select",options:[{value:"UTF-8",label:"UTF-8"},{value:"GBK",label:"GBK"}],placeholder:"请选择字符集"}],Teradata:[{label:"IP",prop:"ip",value:"",type:"input",placeholder:"请输入IP"},{label:"端口",prop:"post",value:"",type:"input",placeholder:"默认端口1025"},{label:"数据库用户名",prop:"userName",value:"",type:"input",placeholder:"请输入数据库用户名"},{label:"数据库密码",prop:"password",value:"",type:"password",placeholder:"请输入数据库密码"},{label:"数据库名",prop:"dbname",value:"",type:"input",placeholder:"请输入数据库名"},{label:"字符集",prop:"characterSet",value:"UTF-8",type:"select",options:[{value:"UTF-8",label:"UTF-8"},{value:"GBK",label:"GBK"}],placeholder:"请选择字符集"}],MongoDB:[{label:"IP",prop:"ip",value:"",type:"input",placeholder:"请输入IP"},{label:"端口",prop:"post",value:"",type:"input",placeholder:"默认端口27017"},{label:"数据库用户名",prop:"userName",value:"",type:"input",placeholder:"请输入数据库用户名"},{label:"数据库密码",prop:"password",value:"",type:"password",placeholder:"请输入数据库密码"},{label:"数据库名",prop:"dbname",value:"",type:"input",isWidth:!0,placeholder:"请输入数据库名"}],Ftp:[{label:"协议类型",prop:"type",value:"FTP",type:"radio",options:[{text:"FTP",value:"0"},{text:"SFTP",value:"1"}],isWidth:!0},{label:"IP",prop:"ip",value:"",type:"input",placeholder:"请输入IP"},{label:"端口",prop:"post",value:"",type:"input",placeholder:"默认端口21"},{label:"用户名",prop:"userName",value:"",type:"input",placeholder:"请输入用户名"},{label:"密码",prop:"password",value:"",type:"password",placeholder:"请输入密码"}],Hbase:[{label:"IP",prop:"zkQuorum",value:"",type:"input",placeholder:"Zookeeper集群地址（Host或者IP）"},{label:"端口",prop:"post",value:"",type:"input",placeholder:"默认端口2181"},{label:"表空间",prop:"dbname",value:"",type:"input",isWidth:!0,placeholder:"请输入表空间"}],HDFS:[{label:"DefaultFS",prop:"defaultFs",value:"",type:"input",isWidth:!0,placeholder:"格式：hdfs://ServerIP:Port"},{label:"用户名",prop:"userName",value:"",type:"input",placeholder:"请输入用户名"},{label:"Kerberos",prop:"haveKerberos",value:0,type:"radio",options:[{text:"关闭",value:0},{text:"开启",value:1}]}],Hive:[{label:"JDBC URL",prop:"url",value:"",type:"input",isWidth:!0,placeholder:"请输入hive的JDBC连接地址，如 jdbc:hive2://host:port/dbName"},{label:"用户名",prop:"userName",value:"",type:"input",placeholder:"请输入用户名"},{label:"密码",prop:"password",value:"",type:"password",placeholder:"请输入密码"},{label:"DefaultFS",prop:"defaultFs",value:"",type:"input",isWidth:!0,placeholder:"格式：hdfs://ServerIP:Port"},{label:"Warehouse.dir",prop:"warehouseDir",value:"",type:"input",isWidth:!0,placeholder:"格式必须为绝对路径，如：/usr/hive/warehouse/dbName"},{label:"Kerberos",prop:"haveKerberos",value:0,type:"radio",options:[{text:"关闭",value:0},{text:"开启",value:1}],isWidth:!0}],Impala:[{label:"JDBC URL",prop:"url",value:"",type:"input",isWidth:!0,placeholder:"请输入hive的JDBC连接地址，如 jdbc:hive2://host:port/dbName"},{label:"用户名",prop:"userName",value:"",type:"input",placeholder:"请输入用户名"},{label:"密码",prop:"password",value:"",type:"password",placeholder:"请输入密码"},{label:"DefaultFS",prop:"defaultFs",value:"",type:"input",isWidth:!0,placeholder:"格式：hdfs://ServerIP:Port"},{label:"Warehouse.dir",prop:"warehouseDir",value:"",type:"input",isWidth:!0,placeholder:"格式必须为绝对路径，如：/usr/hive/warehouse/dbName"},{label:"Kerberos",prop:"haveKerberos",value:0,type:"radio",options:[{text:"关闭",value:0},{text:"开启",value:1}],isWidth:!0}]}},zph2:function(e,a,t){"use strict";function r(e){t("pt9d")}var i=t("rLLW"),o=t("V6Rg"),s=t("VU/8"),l=r,n=s(i.a,o.a,!1,l,null,null);a.a=n.exports}});