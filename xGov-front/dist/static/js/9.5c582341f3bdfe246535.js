webpackJsonp([9],{"2Afk":function(t,e,a){t.exports=a.p+"static/img/dataSourceType.599505a.png"},"8s4O":function(t,e,a){"use strict";e.a={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}}},ACEw:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"history-view",attrs:{"close-on-click-modal":!1,title:"历史版本查看",visible:t.HistoryVisible,width:"60%","before-close":t.closeDialog},on:{"update:visible":function(e){t.HistoryVisible=e},open:t.openDialog}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("template",{slot:"empty"},[a("div",{staticClass:"show-empty"},[t._v("\n        暂无历史数据\n      ")])]),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标准名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"versionDescription","show-overflow-tooltip":"",label:"变更原因"}}),t._v(" "),a("el-table-column",{attrs:{prop:"lastModifyTime",formatter:this.$utils.dateFormat,"show-overflow-tooltip":"",label:"更新时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"attrs[2].attrValue","show-overflow-tooltip":"",label:"数据类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{domProps:{textContent:t._s(e.row.attrs[2].attrValue+e.row.attrs[3].attrValue)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"attrs[5].attrValue","show-overflow-tooltip":"",label:"值域"}}),t._v(" "),a("el-table-column",{attrs:{prop:"attrs[6].attrValue","show-overflow-tooltip":"",label:"数据范围"}}),t._v(" "),a("el-table-column",{attrs:{prop:"attrs[7].attrValue","show-overflow-tooltip":"",label:"正则表达式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"attrs[8].attrValue",label:"备注"}})],2),t._v(" "),a("el-pagination",{staticClass:"ar mt15",attrs:{"current-page":t.currentPage,layout:"total, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info",size:"small"},on:{click:t.closeDialog}},[t._v("关 闭")])],1)],1)},i=[],o={render:n,staticRenderFns:i};e.a=o},B5Co:function(t,e,a){"use strict";function n(t){a("ivv4")}var i=a("c8f4"),o=a("sC/M"),s=a("VU/8"),r=n,l=s(i.a,o.a,!1,r,null,null);e.a=l.exports},DoGJ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ElRow",componentName:"ElRow",props:{tag:{type:String,default:"div"},gutter:Number,type:String,justify:{type:String,default:"start"},align:{type:String,default:"top"}},computed:{style:function(){var t={};return this.gutter&&(t.marginLeft="-"+this.gutter/2+"px",t.marginRight=t.marginLeft),t}},render:function(t){return t(this.tag,{class:["el-row","start"!==this.justify?"is-justify-"+this.justify:"","top"!==this.align?"is-align-"+this.align:"",{"el-row--flex":"flex"===this.type}],style:this.style},this.$slots.default)}}},EBlm:function(t,e,a){var n=a("q/0P");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("4edb4e9c",n,!0,{})},EMXe:function(t,e,a){"use strict";var n=a("8s4O"),i=a("P6eN"),o=a("VU/8"),s=o(n.a,i.a,!1,null,null,null);e.a=s.exports},K2L6:function(t,e,a){var n=a("kxFB");e=t.exports=a("FZ+f")(!1),e.push([t.i,".data-meta-section{padding:108px 15px}.data-meta-section .dataMeta{height:calc(100% - 35px)}.data-meta-section .el-table__empty-block{-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.data-meta-section .el-table__empty-block .show-empty{margin-top:20px}.data-meta-section .content .el-input .el-input__inner{width:100%!important}.data-meta-section .content .el-select{display:block}.data-meta-section .content .el-select .el-input__inner{width:100%!important}.data-meta-section .content [class*=el-col-12]{float:left}.data-meta-section .content .searchBtn{color:#797b7b;cursor:pointer}.data-meta-section .content .searchBtn:hover{color:#3ba3f8}.data-meta-section .dataElementName-class{cursor:pointer;color:#606266}.data-meta-section .dataElementName-class:hover{color:#3ba3f8}.dataSourceType-bg{width:800px;height:520px;background:url("+n(a("2Afk"))+") no-repeat 50%;background-size:contain}@media screen and (max-width:1400px){.dataSourceType-bg{width:600px;height:400px}}",""])},LR0t:function(t,e,a){"use strict";e.a={name:"HistoryDetail",props:["HistoryVisible","historyList"],components:{},data:function(){return{total:0,currentPage:1,pageLength:10,tableData:[]}},methods:{openDialog:function(){var t=this,e={start:(this.currentPage-1)*this.pageLength,length:this.pageLength,dataElementId:this.historyList.id};this.$urlApi.dataStandard.getHistory(e).then(function(e){t.tableData=e.data,t.total=e.recordsFiltered})},closeDialog:function(){this.tableData=[],this.$emit("HistoryBack")},handleSizeChange:function(t){this.pageLength=t,this.currentPage=1,this.openDialog()},handleCurrentChange:function(t){this.currentPage=t,this.openDialog()}},mounted:function(){}}},OZrn:function(t,e,a){"use strict";function n(t){a("kyHg")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("cBv8"),o=a("dYHU"),s=a("VU/8"),r=n,l=s(i.a,o.a,!1,r,null,null);e.default=l.exports},P6eN:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?a("i",{staticClass:"el-icon-loading"}):t._e(),t._v(" "),t.icon&&!t.loading?a("i",{class:t.icon}):t._e(),t._v(" "),t.$slots.default?a("span",[t._t("default")],2):t._e()])},i=[],o={render:n,staticRenderFns:i};e.a=o},RY4U:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".history-view .el-table__empty-block[data-v-632702b8]{-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.history-view .el-table__empty-block .show-empty[data-v-632702b8]{margin-top:20px}",""])},SldL:function(t,e){!function(e){"use strict";function a(t,e,a,n){var o=e&&e.prototype instanceof i?e:i,s=Object.create(o.prototype),r=new h(n||[]);return s._invoke=c(t,a,r),s}function n(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function s(){}function r(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function e(a,i,o,s){var r=n(t[a],t,i);if("throw"!==r.type){var l=r.arg,c=l.value;return c&&"object"==typeof c&&v.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(c).then(function(t){l.value=t,o(l)},s)}s(r.arg)}function a(t,a){function n(){return new Promise(function(n,i){e(t,a,n,i)})}return i=i?i.then(n,n):n()}var i;this._invoke=a}function c(t,e,a){var i=k;return function(o,s){if(i===D)throw new Error("Generator is already running");if(i===T){if("throw"===o)throw s;return b()}for(a.method=o,a.arg=s;;){var r=a.delegate;if(r){var l=d(r,a);if(l){if(l===S)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===k)throw i=T,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=D;var c=n(t,e,a);if("normal"===c.type){if(i=a.done?T:C,c.arg===S)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(i=T,a.method="throw",a.arg=c.arg)}}}function d(t,e){var a=t.iterator[e.method];if(a===f){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=f,d(t,e),"throw"===e.method))return S;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var i=n(a,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,S;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=f),e.delegate=null,S):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,S)}function u(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function m(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(u,this),this.reset(!0)}function p(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,n=function e(){for(;++a<t.length;)if(v.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=f,e.done=!0,e};return n.next=n}}return{next:b}}function b(){return{value:f,done:!0}}var f,g=Object.prototype,v=g.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},_=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",x=y.toStringTag||"@@toStringTag",E="object"==typeof t,F=e.regeneratorRuntime;if(F)return void(E&&(t.exports=F));F=e.regeneratorRuntime=E?t.exports:{},F.wrap=a;var k="suspendedStart",C="suspendedYield",D="executing",T="completed",S={},L={};L[_]=function(){return this};var M=Object.getPrototypeOf,$=M&&M(M(p([])));$&&$!==g&&v.call($,_)&&(L=$);var R=s.prototype=i.prototype=Object.create(L);o.prototype=R.constructor=s,s.constructor=o,s[x]=o.displayName="GeneratorFunction",F.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},F.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(R),t},F.awrap=function(t){return{__await:t}},r(l.prototype),l.prototype[w]=function(){return this},F.AsyncIterator=l,F.async=function(t,e,n,i){var o=new l(a(t,e,n,i));return F.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},r(R),R[x]="Generator",R[_]=function(){return this},R.toString=function(){return"[object Generator]"},F.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var n=e.pop();if(n in t)return a.value=n,a.done=!1,a}return a.done=!0,a}},F.values=p,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(m),!t)for(var e in this)"t"===e.charAt(0)&&v.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=f)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return o.type="throw",o.arg=t,a.next=e,n&&(a.method="next",a.arg=f),!!n}if(this.done)throw t;for(var a=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=v.call(i,"catchLoc"),r=v.call(i,"finallyLoc");if(s&&r){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!r)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,S):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),S},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),m(a),S}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var i=n.arg;m(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:p(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=f),S}}}(function(){return this}()||Function("return this")())},"T+Mp":function(t,e,a){"use strict";function n(t){a("V6Xf")}var i=a("LR0t"),o=a("ACEw"),s=a("VU/8"),r=n,l=s(i.a,o.a,!1,r,"data-v-632702b8",null);e.a=l.exports},UELb:function(t,e,a){"use strict";function n(t){a("EBlm")}var i=a("gqc4"),o=a("Y2nQ"),s=a("VU/8"),r=n,l=s(i.a,o.a,!1,r,null,null);e.a=l.exports},V6Xf:function(t,e,a){var n=a("RY4U");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("45cbc814",n,!0,{})},Xxa5:function(t,e,a){t.exports=a("jyFz")},Y2nQ:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"set-combin",attrs:{"close-on-click-modal":!1,title:"编辑 "+t.isEditCombin.name+" 关联关系",visible:t.SetCombinVisible,"before-close":t.closeDialog,width:"860px"},on:{"update:visible":function(e){t.SetCombinVisible=e}}},[a("el-row",{staticClass:"set-combin-inner"},[a("el-col",{staticClass:"set-combin-l",attrs:{span:10}},[a("el-row",{staticStyle:{"line-height":"32px"}},[a("el-col",{attrs:{span:7}},[t._v("数据源： ")]),t._v(" "),a("el-col",{attrs:{span:17}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择数据源",size:"small",filterable:"",disabled:!t.dataOriginList.length},on:{change:t.changeDataOriginBase},model:{value:t.dataOrigin,callback:function(e){t.dataOrigin=e},expression:"dataOrigin"}},t._l(t.dataOriginList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),a("el-row",{staticClass:"mt10"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入表名查询",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchTable(t.searchTablebyValue)}},model:{value:t.tableName,callback:function(e){t.tableName=e},expression:"tableName"}},[a("el-select",{staticStyle:{width:"90px"},attrs:{slot:"prepend",placeholder:"请选择"},on:{change:t.changeHandle},slot:"prepend",model:{value:t.searchTablebyValue,callback:function(e){t.searchTablebyValue=e},expression:"searchTablebyValue"}},[a("el-option",{attrs:{label:"表名",value:"表名"}}),t._v(" "),a("el-option",{attrs:{label:"字段名",value:"字段名"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",size:"small",icon:"el-icon-search"},on:{click:function(e){return t.searchTable(t.searchTablebyValue)}},slot:"append"})],1)],1),t._v(" "),a("el-row",{staticClass:"set-combin-l-b mt10"},[a("vue-scroll",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[t.changeSelect&&"表名"===t.searchTablebyValue?a("el-tree",{ref:"tree",attrs:{"render-content":t.renderContent,props:t.defaultProps,"highlight-current":"","expand-on-click-node":!1,"default-expanded-keys":t.expandKey,"default-checked-keys":t.expandCheck,"empty-text":"暂无数据","show-checkbox":"",load:t.loadNodeTree,"node-key":"id",lazy:""},on:{check:t.checkBox}}):t._e(),t._v(" "),t.isField?a("el-tree",{ref:"tree",attrs:{"render-content":t.renderContent,data:t.fieldData,props:t.defaultProps1,"highlight-current":"","empty-text":"暂无数据","show-checkbox":"","node-key":"id"},on:{check:t.checkBox}}):t._e()],1)],1)],1),t._v(" "),a("el-col",{staticClass:"set-combin-r",attrs:{span:14}},[a("vue-scroll",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("template",{slot:"empty"},[a("div",{staticClass:"show-empty"},[t._v("\n                        暂无关联数据\n                        ")])]),t._v(" "),a("el-table-column",{attrs:{prop:"sourceName","show-overflow-tooltip":!0,label:"对应数据源"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tablename","show-overflow-tooltip":!0,label:"表名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fildname","show-overflow-tooltip":!0,label:"字段名"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"table-icon-menu",on:{click:function(a){return t.deleteRow(e.$index,e)}}},[a("svg-icon",{attrs:{iconClass:"删除"}})],1)]}}])})],2)],1),t._v(" "),a("div",{staticClass:"delete-tip"},[a("i",{staticClass:"el-icon-warning"}),t._v(" 删除关联字段后，请保存使配置生效！")])],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info",size:"small"},on:{click:t.resetForm}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small",disabled:!t.originTableData.length&&!t.tableData.length,loading:t.buttonLoading},on:{click:t.submitForm}},[t._v("保 存")])],1)],1)},i=[],o={render:n,staticRenderFns:i};e.a=o},c8f4:function(t,e,a){"use strict";(function(t){e.a={name:"",components:{},props:["AddUpdateVisible","isEditMeta"],data:function(){return{openStatus:!1,buttonLoading:!1,dataTypeSource:[{value:"c",options:[{value:"c",tip:"定长的字符"},{value:"c..",tip:"最多xx位字符"}]},{value:"a",options:[{value:"a",tip:"定长字母字符"},{value:"a..",tip:"最多xx位字母字符"}]},{value:"n",options:[{value:"n",tip:"定长数字字符"},{value:"n..",tip:"最多xx位数字字符"},{value:"n..()",tip:"浮点数"}]},{value:"an",options:[{value:"an",tip:"定长字母和数字字符"},{value:"an..",tip:"最多xx位字母和数字字符"}]},{value:"d",options:[{value:"d",tip:"YYYYMMDD日期"}]},{value:"t",options:[{value:"t",tip:"hhmmss时间"}]},{value:"dt",options:[{value:"dt",tip:"YYYYMMDDhhmmss日期时间"}]}],dataType:[{value:"c",des:"请输入校验字符长度",type:0},{value:"c..",des:"请输入校验字符长度",type:0},{value:"a",des:"请输入校验字符长度",type:0},{value:"a..",des:"请输入校验字符长度",type:0},{value:"n",des:"请输入校验字符长度",type:0},{value:"n..",des:"请输入校验字符长度",type:0},{value:"an",des:"请输入校验字符长度",type:0},{value:"an..",des:"请输入校验字符长度",type:0},{value:"n..()",des:"请输入校验长度和小数位数，用逗号隔开",type:0},{value:"d",des:"YYYYMMDD",type:1},{value:"t",des:"hhmmss",type:1},{value:"dt",des:"YYYYMMDD hhmmss",type:1}],baseForm:{id:0,dataElementName:"",dataElementCode:"",standardType:"技术标准",standardAlias:"",dataElementType:"",dataElementAttr:"",dataRangeFront:"",dataRangeEnd:"",regularExpression:"",remark:"",codeset:"",codeList:"",sourceLayerId:[]},layerOptionsProps:{value:"id",label:"name"},layerOptions:[],regExpOptions:[{label:"身份证号码验证",value:"^([1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3})|([1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X))$"},{label:"手机号码验证",value:"^(17[0-9]|13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$"},{label:"IP地址验证",value:"((25[0-5]|2[0-4]\\d|((1\\d{2})|([1-9]?\\d)))\\.){3}(25[0-5]|2[0-4]\\d|((1\\d{2})|([1-9]?\\d)))"},{label:"邮箱地址验证",value:"^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$"}]}},methods:{validateDataRangeFront:function(t,e,a){e&&"string"==typeof e&&a(new Error("请输入数字")),""!==e&&""!==this.baseForm.dataRangeEnd?e>this.baseForm.dataRangeEnd||!Number.isFinite(e)||e<-4e15?a(new Error("请输入合法范围值")):a():""!==e&&""==this.baseForm.dataRangeEnd?this.$refs.baseForm.validateField("dataRangeEnd"):""==e&&""!==this.baseForm.dataRangeEnd?a(new Error("请输入合法范围值")):a()},validateDataRangeEnd:function(t,e,a){e&&"string"==typeof e&&a(new Error("请输入数字")),""!==e&&""!==this.baseForm.dataRangeFront?e<this.baseForm.dataRangeFront||!Number.isFinite(e)||e>4e15?a(new Error("请输入合法范围值")):(this.$refs.baseForm.validateField("dataRangeFront"),a()):""!==e&&""==this.baseForm.dataRangeFront?this.$refs.baseForm.validateField("dataRangeFront"):""==e&&""!==this.baseForm.dataRangeFront?a(new Error("请输入合法范围值")):a()},validateElementAttr:function(t,e,a){if(""!==e&&"n..()"!==this.baseForm.dataElementType)-1!=e.indexOf(",")||e<1||e>4e3?a(new Error("请输入1-4000的整数！")):a();else if(""!==e&&"n..()"==this.baseForm.dataElementType)if(-1==e.indexOf(",")||e.endsWith(","))a(new Error("请输入合法的校验长度和小数位数并以逗号分隔！"));else{var n=e.split(",");2!==n.length&&a(new Error("请输入合法的校验长度和小数位数并以逗号分隔！")),(parseInt(n[0])<=parseInt(n[1])||parseInt(n[0])<1||parseInt(n[0])>4e3||parseInt(n[1])<0)&&a(new Error("请输入合法的校验长度和小数位数并以逗号分隔！")),a()}else a()},checkCode:function(){var t=this.baseForm.dataElementCode.replace(/[^\w_]/g,"");this.baseForm.dataElementCode=t},getLayerMenu:function(){var t=this;this.$urlApi.dataStandard.getAuditedCodeSet().then(function(e){t.layerOptions=e.data.filter(function(t){return!!t.id})})},getDataById:function(){var t=this;this.$urlApi.dataStandard.editDataElement({id:this.isEditMeta.id}).then(function(e){t.baseForm.dataElementName=e.data.dataElementName,t.baseForm.dataElementCode=e.data.dataElementCode,t.baseForm.standardType=e.data.standardType,t.baseForm.standardAlias=e.data.standardAlias,t.baseForm.dataElementType=e.data.dataElementType,t.baseForm.dataElementAttr=e.data.dataElementAttr,""!==e.data.dataRangeFront?t.baseForm.dataRangeFront=Number(e.data.dataRangeFront):t.baseForm.dataRangeFront=e.data.dataRangeFront,""!==e.data.dataRangeEnd?t.baseForm.dataRangeEnd=Number(e.data.dataRangeEnd):t.baseForm.dataRangeEnd=e.data.dataRangeEnd,t.baseForm.regularExpression=e.data.regularExpression,t.baseForm.remark=e.data.remark,e.data.codeList&&(t.baseForm.sourceLayerId=e.data.codeList.split(",").map(Number))})},handleLayerChange:function(t){},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;0===e.baseForm.sourceLayerId.length?e.baseForm.codeset="":e.baseForm.codeset=e.baseForm.sourceLayerId[e.baseForm.sourceLayerId.length-1],e.baseForm.codeList=e.baseForm.sourceLayerId.join(","),e.buttonLoading=!0,e.$urlApi.dataStandard.addDataElement(e.baseForm).then(function(t){e.buttonLoading=!1,e.$refs.baseForm.resetFields(),e.closeData(),e.$emit("AddUpdateVisibleBack",1),e.$toast("success","操作成功")}).catch(function(t){e.buttonLoading=!1})})},resetForm:function(t){""===this.isEditMeta.id||this.isEditMeta.isHistory?(this.closeData(),this.$refs[t].resetFields()):this.baseForm={id:this.baseForm.id,dataElementName:"",dataElementCode:this.baseForm.dataElementCode,dataElementType:this.baseForm.dataElementType,standardType:"技术标准",standardAlias:"",dataElementAttr:"",dataRangeFront:"",dataRangeEnd:"",regularExpression:"",remark:"",codeset:"",codeList:"",sourceLayerId:[]}},closeData:function(){this.baseForm.id=0,this.baseForm.dataElementName="",this.baseForm.dataElementCode="",this.baseForm.standardType="技术标准",this.baseForm.standardAlias="",this.baseForm.dataElementType="",this.baseForm.dataElementAttr="",this.baseForm.dataRangeFront="",this.baseForm.dataRangeEnd="",this.baseForm.regularExpression="",this.baseForm.remark="",this.baseForm.codeset="",this.baseForm.codeList="",this.baseForm.sourceLayerId=[]},closeDialog:function(){this.closeData(),this.$emit("AddUpdateVisibleBack",0)},openDialog:function(){var t=this;this.openStatus=this.isEditMeta.isHistory,this.buttonLoading=!1,this.$refs.baseForm&&this.$refs.baseForm.resetFields(),this.$nextTick(function(){t.checkEnglish()})},checkEnglish:function(){var e=this,a=!1;t(".checkEnglish input").on("compositionstart",function(){a=!1}).on("compositionend",function(){a=!0}).on("keyup",function(){a&&(e.baseForm.dataElementCode=t(".checkEnglish input").val().replace(/[^\w_]/g,""))})}},computed:{rules:function(){return this.isEditMeta.isHistory?{remark:[{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],dataRangeFront:[{validator:this.validateDataRangeFront,trigger:["blur","change"],required:!1}],dataRangeEnd:[{validator:this.validateDataRangeEnd,trigger:["blur","change"]}]}:{dataElementName:[{required:!0,message:"请填写标准维护名称",trigger:"blur"}],dataElementCode:[{required:!0,message:"请填写英文名称",trigger:"blur"}],dataElementType:[{required:!0,message:"请选择数据类型",trigger:"change"}],remark:[{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],dataRangeFront:[{validator:this.validateDataRangeFront,type:"number",trigger:["blur","change"],required:!1}],dataRangeEnd:[{validator:this.validateDataRangeEnd,type:"number",trigger:["blur","change"]}],dataElementAttr:[{required:"c.."==this.baseForm.dataElementType||"a.."==this.baseForm.dataElementType||"n.."==this.baseForm.dataElementType||"an.."==this.baseForm.dataElementType||"n..()"==this.baseForm.dataElementType,message:"请输入校验字符长度",trigger:"blur"},{validator:this.validateElementAttr,trigger:["blur","change"]}]}},getRegExp:function(){var t=this.baseForm.regularExpression,e=this.regExpOptions.find(function(e){return e.value==t});if(e)return e.label},getMenu:function(){var t=function(t){var e=[];return function t(a){a.forEach(function(a){e.push(a),a.children&&t(a.children)})}(t),e}(this.layerOptions);return this.baseForm.sourceLayerId.map(function(e){var a=t.find(function(t){return e==t.id});return a?a.name:""}).join("/")}},mounted:function(){this.getLayerMenu()},watch:{isEditMeta:{handler:function(t,e){this.getLayerMenu(),""!==t.id&&(this.getDataById(),this.baseForm.id=t.id)},deep:!0}}}}).call(e,a("7t+N"))},cBv8:function(t,e,a){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){function n(i,o){try{var s=e[i](o),r=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(r).then(function(t){n("next",t)},function(t){n("throw",t)});t(r)}return n("next")})}}var i=a("Xxa5"),o=a.n(i),s=a("B5Co"),r=a("UELb"),l=a("DoGJ"),c=a.n(l),d=a("EMXe"),u=a("T+Mp"),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t};e.a={name:"data-meta",components:{ElButton:d.a,ElRow:c.a,AddUpdateMeta:s.a,SetCombinRelation:r.a,HistoryDetail:u.a},data:function(){return{rules:{changeInfo:[{required:!0,message:"请填写变更原因",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}]},buttonLoading:!1,total:0,currentPage:1,pageLength:10,HistoryVisible:!1,addChangeVisible:!1,AddUpdateVisible:!1,SetCombinVisible:!1,importVisible:!1,fileList:[],dataElementImport:this.$urlApi.dataStandard.dataElementImport(),changeForm:{id:"",changeInfo:""},isEditMeta:{id:"",currTime:(new Date).getTime(),isHistory:!1},isEditCombin:{id:"",currTime:(new Date).getTime()},dataMetaForm:{dataOrigin:"",dataTable:"全部",status:"",category:"",name:""},dataOriginList:[{id:"",name:"全部"}],dataTableList:[],statusList:[{value:"",label:"全部"},{value:0,label:"草稿"},{value:1,label:"待审核"},{value:2,label:"已审核"},{value:3,label:"变更中"},{value:4,label:"已退回"}],dataType:[{value:"",label:"全部",type:0},{value:"c",des:"固定长度字符",type:0},{value:"c..",des:"最多为xx长度的字符",type:0},{value:"a",des:"固定长度字母",type:0},{value:"a..",des:"最多为xx长度的字母",type:0},{value:"n",des:"固定长度数字",type:0},{value:"n..",des:"最多为xx长度的数字",type:0},{value:"an",des:"固定长度字母数字组合",type:0},{value:"an..",des:"最多为xx长度的字母数字组合",type:0},{value:"n..()",des:"输入两个正整数，并用英文字母隔开",type:0},{value:"d",des:"按YYYYMMDD显示的日期",type:"d"},{value:"t",des:"按hhmmss显示的时间",type:1},{value:"dt",des:"按YYYYMMDD hhmmss显示的日期时间",type:1}],listAction:[],deleteSelection:[],historyList:{id:""},headers:{token:this.$auth.getToken()}}},methods:{getData:function(t,e){var a=this;t&&(this.currentPage=t);var n=m({start:(this.currentPage-1)*this.pageLength,length:this.pageLength,dataSourceId:this.dataMetaForm.dataOrigin},"全部"!==this.dataMetaForm.dataTable?{tableName:this.dataMetaForm.dataTable}:{},{status:this.dataMetaForm.status,dataElementType:this.dataMetaForm.category,dataElementName:this.dataMetaForm.name});this.$urlApi.dataStandard.dataElementList(n).then(function(t){"delete"===e&&t.recordsFiltered%a.pageLength==0&&a.currentPage>1&&a.getData(t.recordsFiltered/a.pageLength),a.listAction=t.data,a.total=t.recordsFiltered})},getAllDataSource:function(){var t=this;this.$urlApi.dataSource.getAllDataSource({pid:-1}).then(function(e){t.dataOriginList=t.dataOriginList.concat(e.data)})},changeDataOriginBase:function(t){var e=this;this.dataMetaForm.dataTable="全部",""===t?this.dataTableList=[]:this.$urlApi.dataSource.getDataTreeById({pid:-2,id:t}).then(function(t){t.data.length>0&&(e.dataTableList=t.data,e.dataTableList.unshift({id:"",name:"全部"}))}),this.getData(1)},changeDataOriginTable:function(t){this.getData(1)},changeDataStatus:function(t){this.getData(1)},changeDatatype:function(t){this.getData(1)},changeFun:function(t){this.deleteSelection=t},handleSizeChange:function(t){this.pageLength=t,this.getData(1)},handleCurrentChange:function(t){this.currentPage=t,this.getData()},handleCommand:function(t){switch(t){case"downloadTemplate":var e=this.$urlApi.dataStandard.dataElementTemplateDownload();window.open(e);break;case"importTemplate":this.importVisible=!0;break;case"exportTemplate":if(this.deleteSelection.length<=0)return!1}},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(t,e){},handlePreview:function(t){},handleSuccess:function(t,e){"200"===t.code?(this.$toast("success","导入成功"),this.getData()):(this.$toast("error",t.message),this.fileList=[])},handleError:function(t,e,a){this.$toast("error","导入失败：请检查文件内容格式！"),this.fileList=[]},beforeUpload:function(t){var e=t.name.substring(t.name.lastIndexOf(".")+1),a="xlsx"===e,n="xls"===e;return!(!a&&!n)||(this.$toast("warning","上传文件只能是xlsx,xls格式!"),!1)},closeImportDialog:function(){this.importVisible=!1,this.fileList=[]},addNewMeta:function(){var t=(new Date).getTime();this.AddUpdateVisible=!0,this.isEditMeta.currTime=t},sendAudit:function(){var t=this,e=this.deleteSelection.map(function(t){return t.status}).join();if(-1!==e.indexOf("1")||-1!==e.indexOf("2")||-1!==e.indexOf("4"))return void this.$toast("warning","只有草稿和变更中的标准维护可以送审");var a=this.deleteSelection.map(function(t){return t.id}).join();this.$confirm("确认要送审吗","系统消息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",closeOnClickModal:!1}).then(function(){t.$urlApi.dataStandard.sendAudit({ids:a}).then(function(e){t.getData(),t.$toast("success","送审成功")})}).catch(function(){})},editData:function(t){var e=(new Date).getTime();this.AddUpdateVisible=!0,this.isEditMeta.currTime=e,this.isEditMeta.id=t},deleteList:function(t,e){var a=this,n=this.deleteSelection.map(function(t){return t.status}).join();if(-1!==n.indexOf("1")||-1!==n.indexOf("2"))return void this.$toast("warning","只有草稿、变更中及已退回的标准维护可以删除！");var i="";i=0===e?t:this.deleteSelection.map(function(t){return t.id}).join(),this.$confirm("确认要删除吗","系统消息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",closeOnClickModal:!1}).then(function(){a.$urlApi.dataStandard.deleteElement({ids:i}).then(function(t){a.getData(0,"delete"),a.$toast("success","删除成功")})}).then(function(){setTimeout(function(){a.getData()},500)})},conbinRelation:function(t){if(2===t.status){var e=(new Date).getTime();this.SetCombinVisible=!0,this.isEditCombin.currTime=e,this.isEditCombin.id=t.id,this.isEditCombin.name=t.dataElementName}},AddUpdateVisibleBack:function(t){this.AddUpdateVisible=!1,this.isEditMeta.id="",this.isEditMeta.isHistory=!1,this.getData()},SetCombinBack:function(t){this.SetCombinVisible=!1},closeChangeModal:function(){this.$refs.addLayerForm&&this.$refs.addLayerForm.resetFields(),this.changeForm.changeInfo="",this.addChangeVisible=!1},showHistory:function(t){this.HistoryVisible=!0,this.historyList.id=t},HistoryBack:function(){this.HistoryVisible=!1,this.historyList.id=""},changeStatus:function(t){var e=this;this.$confirm("该标准维护变更后，关联字段将被删除，是否继续？","系统消息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",closeOnClickModal:!1}).then(function(){e.addChangeVisible=!0,e.changeForm.id=t})},recall:function(t){var e=this;this.$confirm("确认要撤回吗？","系统消息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",closeOnClickModal:!1}).then(n(o.a.mark(function a(){var n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.withDraw(t);case 2:n=a.sent,"200"===n.code&&e.$toast("success","撤回成功！"),e.getData();case 5:case"end":return a.stop()}},a,e)})))},withDraw:function(t){return this.$urlApi.dataStandard.dataElementRecall({id:t})},submitChange:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.buttonLoading=!0,e.$urlApi.dataStandard.changeDataElement(e.changeForm).then(function(t){e.buttonLoading=!1,e.addChangeVisible=!1,e.closeChangeModal(),e.$toast("success","操作成功"),e.getData()}).catch(function(t){e.buttonLoading=!1})})},showDataSource:function(t){var e=(new Date).getTime();this.AddUpdateVisible=!0,this.isEditMeta.currTime=e,this.isEditMeta.isHistory=!0,this.isEditMeta.id=t.id},dataTypeRenderHeader:function(t,e){e.column,e.$index;return t("el-popover",{attrs:{placement:"right-start",trigger:"hover"}},[t("div",{class:"dataSourceType-bg"}),t("div",{slot:"reference",class:"cell"},["数据类型  ",t("svg-icon",{attrs:{iconClass:"help-circle"}})])])},statusRenderHeader:function(t,e){e.column,e.$index;return t("el-popover",{attrs:{placement:"top",trigger:"hover"}},[t("div",{style:"font-size: 12px"},[t("div",["草稿：新建未提交标准，可编辑/删除。"]),t("div",{style:"padding: 5px 0"},["待审核：待审批标准，不可编辑/删除，可撤回。"]),t("div",["已审核：可使用数据标准，不可删除，点击“变更”状态改为“变更中”。"]),t("div",{style:"padding: 5px 0"},["变更中：标准变更时的中间状态，可删除编辑。"]),t("div",["已退回：被退回标准，可编辑/删除。"])]),t("div",{slot:"reference",class:"cell"},["状态  ",t("svg-icon",{attrs:{iconClass:"help-circle"}})])])},checkBox:function(t,e){return 1!==t.status&&2!==t.status}},mounted:function(){this.getData(),this.getAllDataSource(),"add"===this.$route.query.type&&this.addNewMeta()}}},dYHU:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"data-meta-section main-outer"},[a("el-row",{staticClass:"common-condition ar mb15"}),t._v(" "),a("el-row",{staticClass:"main-inner dataMeta"},[a("el-row",[a("el-form",{ref:"dataMetaForm",staticClass:"demo-form-inline",attrs:{model:t.dataMetaForm,size:"small","label-width":"80px"}},[a("div",{staticClass:"content"},[a("el-row",{attrs:{gutter:60}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"数据源: "}},[a("el-select",{attrs:{placeholder:"请选择数据源",filterable:"",disabled:!t.dataOriginList.length},on:{change:t.changeDataOriginBase},model:{value:t.dataMetaForm.dataOrigin,callback:function(e){t.$set(t.dataMetaForm,"dataOrigin",e)},expression:"dataMetaForm.dataOrigin"}},t._l(t.dataOriginList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"数据表: "}},[a("el-select",{attrs:{disabled:!t.dataTableList.length},on:{change:t.changeDataOriginTable},model:{value:t.dataMetaForm.dataTable,callback:function(e){t.$set(t.dataMetaForm,"dataTable",e)},expression:"dataMetaForm.dataTable"}},t._l(t.dataTableList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:60}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"状态: "}},[a("el-select",{attrs:{placeholder:"请选择数据状态",disabled:!t.statusList.length},on:{change:t.changeDataStatus},model:{value:t.dataMetaForm.status,callback:function(e){t.$set(t.dataMetaForm,"status",e)},expression:"dataMetaForm.status"}},t._l(t.statusList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"数据类型: "}},[a("el-select",{attrs:{placeholder:"请选择数据类型"},on:{change:t.changeDatatype},model:{value:t.dataMetaForm.category,callback:function(e){t.$set(t.dataMetaForm,"category",e)},expression:"dataMetaForm.category"}},t._l(t.dataType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-button",{staticClass:"grey-btn",attrs:{size:"mini"},on:{click:t.addNewMeta}},[a("svg-icon",{attrs:{iconClass:"g-新建"}}),t._v(" 新建")],1),t._v(" "),a("el-button",{staticClass:"grey-btn",attrs:{size:"mini",disabled:this.deleteSelection.length<=0},on:{click:t.sendAudit}},[a("svg-icon",{attrs:{iconClass:"g-送审"}}),t._v(" 送审")],1),t._v(" "),a("el-button",{staticClass:"grey-btn",attrs:{size:"mini",disabled:this.deleteSelection.length<=0},on:{click:function(e){return t.deleteList("s",1)}}},[a("svg-icon",{attrs:{iconClass:"删除"}}),t._v(" 删除")],1),t._v(" "),a("el-dropdown",{staticStyle:{margin:"0 10px"},attrs:{size:"mini"},on:{command:t.handleCommand}},[a("el-button",{staticClass:"grey-btn",attrs:{size:"mini"}},[a("svg-icon",{attrs:{iconClass:"g-更多"}}),t._v(" 更多")],1),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"downloadTemplate"}},[t._v("下载模板")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"importTemplate"}},[t._v("导入")]),t._v(" "),a("el-dropdown-item",{style:this.deleteSelection.length<=0?"cursor: not-allowed":"",attrs:{command:"exportTemplate"}},[t._v("导出")])],1)],1),t._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入要查询的数据标准名称",size:"mini"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getData(1)}},model:{value:t.dataMetaForm.name,callback:function(e){t.$set(t.dataMetaForm,"name",e)},expression:"dataMetaForm.name"}},[a("i",{staticClass:"el-input__icon el-icon-search searchBtn",attrs:{slot:"suffix"},on:{click:function(e){return t.getData(1)}},slot:"suffix"})])],1)],1)])],1),t._v(" "),a("el-row",{staticClass:"mt15",staticStyle:{height:"calc(100% - 180px)"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.listAction,height:"100%"},on:{"selection-change":t.changeFun}},[a("template",{slot:"empty"},[a("div",{staticClass:"show-empty"},[t._v("\n            暂无数据，请先"),a("span",{staticStyle:{color:"#3BA3F8",cursor:"pointer"},on:{click:t.addNewMeta}},[t._v("新建标准")])])]),t._v(" "),a("el-table-column",{attrs:{type:"selection",width:"55",selectable:t.checkBox}}),t._v(" "),a("el-table-column",{attrs:{label:"标准名称","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"dataElementName-class",staticStyle:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},attrs:{type:"text"},on:{click:function(a){return t.showDataSource(e.row)}}},[t._v("\n              "+t._s(e.row.dataElementName)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"dataElementCode",label:"英文名称","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"dataType","render-header":t.dataTypeRenderHeader}}),t._v(" "),a("el-table-column",{attrs:{prop:"codesetName",label:"值域"}}),t._v(" "),a("el-table-column",{attrs:{label:"描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"cell",staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}},[t._v("\n              "+t._s(e.row.remark)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态","render-header":t.statusRenderHeader},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?a("el-tag",{staticClass:"new-tag"},[t._v("草稿")]):t._e(),t._v(" "),1===e.row.status?a("el-tag",{staticClass:"going-tag"},[t._v("待审核")]):t._e(),t._v(" "),2===e.row.status?a("el-tag",{staticClass:"success-tag"},[t._v("已审核")]):t._e(),t._v(" "),3===e.row.status?a("el-tag",{staticClass:"error-tag"},[t._v("变更中")]):t._e(),t._v(" "),4===e.row.status?a("el-tag",{staticClass:"quit-tag"},[t._v("已退回")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"220",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status||3===e.row.status||4===e.row.status?a("el-button",{staticClass:"operate-btn operate-btns",attrs:{type:"text"},on:{click:function(a){return t.editData(e.row.id)}}},[t._v("编辑")]):t._e(),t._v(" "),0===e.row.status||3===e.row.status||4===e.row.status?a("el-button",{staticClass:"operate-btn operate-btns",attrs:{type:"text"},on:{click:function(a){return t.deleteList(e.row.id,0)}}},[t._v("删除")]):t._e(),t._v(" "),2===e.row.status?a("el-button",{staticClass:"operate-btn operate-btns",attrs:{type:"text"},on:{click:function(a){return t.conbinRelation(e.row)}}},[t._v("关联关系")]):t._e(),t._v(" "),1===e.row.status||2===e.row.status||3===e.row.status?a("el-button",{staticClass:"operate-btn operate-btns",attrs:{type:"text"},on:{click:function(a){return t.showHistory(e.row.id)}}},[t._v("查看历史")]):t._e(),t._v(" "),2===e.row.status?a("el-button",{staticClass:"operate-btn operate-btns",attrs:{type:"text"},on:{click:function(a){return t.changeStatus(e.row.id)}}},[t._v("变更")]):t._e(),t._v(" "),1===e.row.status?a("el-button",{staticClass:"operate-btn operate-btns",attrs:{type:"text"},on:{click:function(a){return t.recall(e.row.id)}}},[t._v("撤回")]):t._e()]}}])})],2),t._v(" "),a("el-pagination",{staticClass:"ar mt15",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,width:"500px",title:"变更",visible:t.addChangeVisible,"before-close":t.closeChangeModal,"append-to-body":""},on:{"update:visible":function(e){t.addChangeVisible=e}}},[a("el-form",{ref:"addLayerForm",attrs:{model:t.changeForm,rules:t.rules,size:"small","label-width":"80px","label-position":"right"}},[a("el-form-item",{attrs:{label:"变更原因",prop:"changeInfo"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.changeForm.changeInfo,callback:function(e){t.$set(t.changeForm,"changeInfo",e)},expression:"changeForm.changeInfo"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info",size:"small"},on:{click:t.closeChangeModal}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small",loading:t.buttonLoading},on:{click:function(e){return t.submitChange("addLayerForm")}}},[t._v("保 存")])],1)],1),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,width:"30%",title:"导入",visible:t.importVisible,"before-close":t.closeImportDialog,"append-to-body":""},on:{"update:visible":function(e){t.importVisible=e}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.dataElementImport,headers:t.headers,"on-preview":t.handlePreview,"before-upload":t.beforeUpload,"on-remove":t.handleRemove,"file-list":t.fileList,accept:"xlsx,xls","on-success":t.handleSuccess,"on-error":t.handleError,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"danger"},slot:"trigger"},[t._v("选择文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"danger"},on:{click:t.submitUpload}},[t._v("上传到服务器")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("\n        导入文件前请先下载模板，只能上传xlsx, xls格式文件！\n      ")])],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info",size:"small"},on:{click:t.closeImportDialog}},[t._v("关 闭")])],1)],1),t._v(" "),a("add-update-meta",{attrs:{AddUpdateVisible:t.AddUpdateVisible,isEditMeta:t.isEditMeta},on:{AddUpdateVisibleBack:t.AddUpdateVisibleBack}}),t._v(" "),a("set-combin-relation",{attrs:{SetCombinVisible:t.SetCombinVisible,isEditCombin:t.isEditCombin},on:{SetCombinBack:t.SetCombinBack}}),t._v(" "),a("history-detail",{attrs:{HistoryVisible:t.HistoryVisible,historyList:t.historyList},on:{HistoryBack:t.HistoryBack}})],1)},i=[],o={render:n,staticRenderFns:i};e.a=o},gqc4:function(t,e,a){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.a={name:"",components:{},props:["SetCombinVisible","isEditCombin"],data:function(){return{expandKey:[],expandCheck:[],dataOriginList:[],dataOrigin:"",buttonLoading:!1,tableData:[],treeData:[],defaultProps:{children:"children",label:"typename",isLeaf:"leaf",id:"id"},defaultProps1:{children:"cols",label:"typename",id:"id"},tmpResolvephoto:"",tableName:"",changeSelect:!1,currBaseId:"",crrrTableName:"",originTableData:[],allCheckedData:{},searchTablebyValue:"表名",fieldData:[],isField:!1,loading:!1}},methods:{searchTable:function(t){var e=this;if("表名"===t)this.changeSelect=!1,setTimeout(function(){e.changeSelect=!0},500);else if("字段名"===t){var a={id:this.dataOrigin,columnName:this.tableName};this.loading=!0,this.$urlApi.dataStandard.searchByColumn(a).then(function(t){e.loading=!1,e.$nextTick(function(){var a=[];t.data.forEach(function(t){t.bind&&(t.disabled=!0),t.cols&&t.cols.forEach(function(t){t.bind&&(t.disabled=!0,a.push(t.id))})}),e.fieldData=t.data,setTimeout(function(){e.$refs.tree.setCheckedKeys([].concat(a))},500)})}).catch(function(t){e.loading=!1})}},getData:function(){var t=this;this.$urlApi.dataStandard.getRelationShip({dataElementId:this.isEditCombin.id}).then(function(e){t.originTableData=[].concat(n(e.data)),t.tableData=e.data})},loadNodeTree:function(t,e){var a=this,n={};""!==this.dataOrigin&&(n=0===t.level?{id:this.currBaseId,pid:-2,searchName:this.tableName}:{pid:t.data.pid,id:t.data.id,name:t.data.name},this.loading=!0,this.$urlApi.dataStandard.getDataTreeById(n).then(function(n){a.loading=!1,"200"===n.code?(n.data.forEach(function(e){e.children=[],"true"===e.isParent?e.leaf=!1:e.leaf=!0,e.bind&&0!==t.level&&(e.disabled=!0)}),e(n.data),1===t.level?(t.childNodes.forEach(function(t){t.data.bind?t.checked=!0:t.checked=!1}),t.childNodes.every(function(t){return t.data.bind})&&(t.checked=!0)):t.childNodes.forEach(function(t){t.data.bind&&(t.checked=!0)}),t.checked&&(t.expanded=!0,t.childNodes.forEach(function(t){t.checked=!0})),a.tmpResolvephoto=e):a.$toast("warning",n.message)}).catch(function(t){a.loading=!1}))},getAllDataSource:function(){var t=this;this.$urlApi.dataStandard.getDataTreeById({pid:-1}).then(function(e){t.dataOriginList=e.data})},changeDataOriginBase:function(t){var e=this;"表名"===this.searchTablebyValue?(this.isField=!1,this.currBaseId=t,this.changeSelect=!1,setTimeout(function(){e.changeSelect=!0},500)):"字段名"===this.searchTablebyValue&&(this.fieldData=[],this.isField=!1,this.searchTable(this.searchTablebyValue),setTimeout(function(){e.isField=!0},500))},changeHandle:function(t){if(!this.dataOrigin)return void this.$toast("error","请先选择数据源！");this.fieldData=[],this.changeDataOriginBase(this.dataOrigin)},handleNodeClick:function(t,e){var a=!0;t.bind||2!==e.level||(this.tableData.forEach(function(e){e.fildname===t.name&&e.tablename===t.pname&&e.sourceName===t.sourceName&&(a=!1)}),a&&this.tableData.push({sourceId:t.sourceId,sourceName:t.sourceName,tablename:t.pname,fildname:t.name}))},checkBox:function(t){var e=this,a=function(){e.$nextTick(function(){e.allCheckedData[e.currBaseId+"check"]=e.$refs.tree.getCheckedNodes();var t=[],a=Object.assign({},e.allCheckedData);for(var i in a){var o=a[i].filter(function(t){return t.sourceId&&t.sourceName&&!t.disabled}).map(function(t){return{sourceId:t.sourceId,sourceName:t.sourceName,tablename:t.pname,fildname:t.name}});t=[].concat(n(t),n(o))}e.tableData=e.originTableData.concat(t)})};if(!t.leaf&&"表名"===this.searchTablebyValue){this.$refs.tree.getNode(t).loadData()}setTimeout(function(){return a()},1500)},deleteRow:function(t,e){var a=this;this.allCheckedData;this.$urlApi.dataStandard.checkDelete({elementId:this.isEditCombin.id,sourceId:e.row.sourceId,tableName:e.row.tablename,column:e.row.fildname}).then(function(n){a.tableData.splice(t,1);var i=a.allCheckedData[e.row.sourceId+"check"],o=i.findIndex(function(t){return t.sourceName===e.row.sourceName&&t.pname===e.row.tablename&&t.name===e.row.fildname});-1!==o&&a.allCheckedData[e.row.sourceId+"check"].splice(o,1),a.$nextTick(function(){a.$refs.tree.setCheckedKeys([]),a.$refs.tree.setCheckedKeys(a.allCheckedData[e.row.sourceId+"check"].map(function(t){return t.id}))})})},renderContent:function(t,e){var a=this,n=e.node,i=e.data,o=(e.store,t("span",{class:"nodeItem"},[t("span",[t("span",{class:"node-label",attrs:{title:n.label}},[n.label])])])),s=t("span",{class:"nodeItem"},[t("span",[t("span",{class:"node-label",attrs:{title:n.label}},[n.label]),t("span",{class:"nodeOptDetail",on:{click:function(){return a.removeRelation(i,n,t)}}},[t("el-tooltip",{class:"item",attrs:{effect:"dark",content:"解除绑定",placement:"top"}},[t("el-button",{attrs:{type:"text",size:"mini"}},[t("svg-icon",{attrs:{iconClass:"分享"}})])])])])]);return 1===n.level?o:i.bind?s:o},submitForm:function(){var t=this;this.buttonLoading=!0,this.$urlApi.dataStandard.saveRelation({dataElementId:this.isEditCombin.id,relationJson:JSON.stringify(this.tableData)}).then(function(e){t.$emit("SetCombinBack",0),t.buttonLoading=!1,t.tableData=[],t.changeSelect=!1,t.dataOrigin="",t.tableName="",t.allCheckedData={},t.searchTablebyValue="表名",t.fieldData=[]}).catch(function(e){t.buttonLoading=!1})},removeRelation:function(t,e,a){var n=this,i=this.$refs.tree.getNode(t.pid),o={dataSoureId:t.sourceId,tableName:t.pname,column:t.name};this.loading=!0,this.$urlApi.dataStandard.checkDelete({elementId:this.isEditCombin.id,sourceId:t.sourceId,tableName:t.pname,column:t.name}).then(function(e){n.$urlApi.dataStandard.unbindRelation(o).then(function(e){"表名"===n.searchTablebyValue?n.loadNodeTree(i,n.tmpResolvephoto):"字段名"===n.searchTablebyValue&&n.searchTable(n.searchTablebyValue);var a=n.tableData.findIndex(function(e){return e.sourceName===t.sourceName&&e.tablename===t.pname&&e.fildname===t.name}),o=n.originTableData.findIndex(function(e){return e.sourceName===t.sourceName&&e.tablename===t.pname&&e.fildname===t.name});-1!=o&&n.originTableData.splice(o,1),-1!=a&&n.tableData.splice(a,1),n.loading=!1,n.$toast("success","解除绑定成功")}).catch(function(t){n.loading=!1})})},resetForm:function(){this.$emit("SetCombinBack",0),this.tableData=[],this.changeSelect=!1,this.dataOrigin="",this.tableName="",this.allCheckedData={},this.oldId=this.currentId,this.searchTablebyValue="表名",this.fieldData=[]},closeDialog:function(){this.tableData=[],this.changeSelect=!1,this.dataOrigin="",this.tableName="",this.$emit("SetCombinBack",0),this.allCheckedData={},this.oldId=this.currentId,this.searchTablebyValue="表名",this.fieldData=[]}},mounted:function(){},watch:{isEditCombin:{handler:function(t,e){this.getAllDataSource(),this.getData()},deep:!0}}}},ivv4:function(t,e,a){var n=a("uLiQ");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("e503876a",n,!0,{})},jyFz:function(t,e,a){var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=a("SldL"),i)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},kyHg:function(t,e,a){var n=a("K2L6");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("2937c162",n,!0,{})},"q/0P":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".set-combin .el-dialog__body{padding:13px 20px}.set-combin .el-dialog__body .set-combin-inner{height:440px}.set-combin .el-dialog__body .set-combin-inner .set-combin-l{height:100%;border-right:1px solid #eee;padding:10px}.set-combin .el-dialog__body .set-combin-inner .set-combin-l .set-combin-l-b{height:calc(100% - 88px)}.set-combin .el-dialog__body .set-combin-inner .set-combin-l .set-combin-l-b .nodeItem{font-size:12px;width:100%;position:relative}.set-combin .el-dialog__body .set-combin-inner .set-combin-l .set-combin-l-b .nodeItem .node-label{display:inline-block;width:160px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.set-combin .el-dialog__body .set-combin-inner .set-combin-l .set-combin-l-b .nodeItem .node-label .node-icon{margin-right:5px;font-size:14px}.set-combin .el-dialog__body .set-combin-inner .set-combin-l .set-combin-l-b .nodeItem .node-label:hover{display:inline-block}.set-combin .el-dialog__body .set-combin-inner .set-combin-l .set-combin-l-b .nodeItem .nodeOpt{display:none!important;float:right;position:relative;top:-2px;font-size:14px;font-weight:700}.set-combin .el-dialog__body .set-combin-inner .set-combin-l .set-combin-l-b .nodeItem .nodeOptDetail{display:none;position:absolute;right:0;top:-4px;height:26px;line-height:26px;font-size:14px;background:rgba(51,55,67,.7);border-radius:2px;cursor:default;padding:0 8px}.set-combin .el-dialog__body .set-combin-inner .set-combin-l .set-combin-l-b .nodeItem .nodeOptDetail .el-button{color:#fff}.set-combin .el-dialog__body .set-combin-inner .set-combin-l .set-combin-l-b .nodeItem:hover .nodeOptDetail{display:inline-block!important;text-align:right}.set-combin .el-dialog__body .set-combin-inner .set-combin-r{height:100%;padding:10px;padding-bottom:20px}.set-combin .el-dialog__body .set-combin-inner .set-combin-r .delete-tip{width:100%;text-align:center;color:#f78989;font-size:13px;padding:10px 0}.set-combin .el-dialog__body .set-combin-inner .set-combin-r .el-table__empty-block{-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.set-combin .el-dialog__body .set-combin-inner .set-combin-r .el-table__empty-block .show-empty{margin-top:20px}",""])},"sC/M":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"add-update-meta",attrs:{"close-on-click-modal":!1,title:"",visible:t.AddUpdateVisible,"before-close":t.closeDialog,width:"800px"},on:{"update:visible":function(e){t.AddUpdateVisible=e},closed:t.closeDialog,open:t.openDialog}},[""===t.isEditMeta.id?a("span",{attrs:{slot:"title"},slot:"title"},[t._v("新建标准")]):t._e(),t._v(" "),""===t.isEditMeta.id||t.isEditMeta.isHistory?t._e():a("span",{attrs:{slot:"title"},slot:"title"},[t._v("编辑标准")]),t._v(" "),t.isEditMeta.isHistory?a("span",{attrs:{slot:"title"},slot:"title"},[t._v("标准详情")]):t._e(),t._v(" "),a("el-form",{ref:"baseForm",attrs:{model:t.baseForm,rules:t.rules,size:"small","label-width":"110px","label-position":"right"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"标准维护名称：",prop:"dataElementName"}},[t.isEditMeta.isHistory?a("span",{staticClass:"historyShow"},[t._v(t._s(t.baseForm.dataElementName))]):a("el-input",{attrs:{maxlength:"20",placeholder:"最大长度为20个字符"},model:{value:t.baseForm.dataElementName,callback:function(e){t.$set(t.baseForm,"dataElementName",e)},expression:"baseForm.dataElementName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"英文名称：",prop:"dataElementCode"}},[t.isEditMeta.isHistory||""!==t.isEditMeta.id?a("span",{staticClass:"historyShow"},[t._v(t._s(t.baseForm.dataElementCode))]):a("el-input",{staticClass:"checkEnglish",attrs:{maxlength:"20",placeholder:"输入字母数字和下划线"},on:{blur:function(e){return t.checkCode()}},model:{value:t.baseForm.dataElementCode,callback:function(e){t.$set(t.baseForm,"dataElementCode",e)},expression:"baseForm.dataElementCode"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"标准类型：",prop:"standardType"}},[t.isEditMeta.isHistory?a("span",{staticClass:"historyShow"},[t._v(t._s(t.baseForm.standardType))]):a("el-select",{attrs:{size:"small"},model:{value:t.baseForm.standardType,callback:function(e){t.$set(t.baseForm,"standardType",e)},expression:"baseForm.standardType"}},[a("el-option",{attrs:{value:"技术标准",label:"技术标准"}}),t._v(" "),a("el-option",{attrs:{value:"指标标准",label:"指标标准"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"标准别名：",prop:"standardAlias"}},[t.isEditMeta.isHistory?a("span",{staticClass:"historyShow"},[t._v(t._s(t.baseForm.standardAlias))]):a("el-input",{attrs:{size:"mini",placeholder:"输入标准别名，不同别名用逗号隔开"},model:{value:t.baseForm.standardAlias,callback:function(e){t.$set(t.baseForm,"standardAlias",e)},expression:"baseForm.standardAlias"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据类型：",prop:"dataElementType"}},[""!==t.isEditMeta.id||t.isEditMeta.isHistory?a("span",{staticClass:"historyShow"},[t._v(t._s(t.baseForm.dataElementType))]):a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择数据类型"},model:{value:t.baseForm.dataElementType,callback:function(e){t.$set(t.baseForm,"dataElementType",e)},expression:"baseForm.dataElementType"}},t._l(t.dataTypeSource,function(e){return a("el-option-group",{key:e.value,attrs:{label:e.value}},t._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{disabled:t.isEditMeta.isHistory,title:e.tip,label:e.value,value:e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.value))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"12px"}},[t._v(t._s(e.tip))])])}),1)}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[t.isEditMeta.isHistory?a("el-form-item",{attrs:{label:"校验长度："}},[a("label",{staticStyle:{color:"#333","font-size":"12px"}},[t._v(t._s(t.baseForm.dataElementAttr))])]):a("el-form-item",{attrs:{prop:"dataElementAttr",label:"校验长度："}},[t._l(t.dataType,function(e){return[e.value===t.baseForm.dataElementType?a("el-input",{key:e.value,attrs:{placeholder:t.isEditMeta.isHistory?"":e.des,onkeyup:"this.value=this.value.replace(/[^\\d\\,]/g,'')"},model:{value:t.baseForm.dataElementAttr,callback:function(e){t.$set(t.baseForm,"dataElementAttr",e)},expression:"baseForm.dataElementAttr"}}):t._e()]})],2)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"值域："}},[t.isEditMeta.isHistory?a("span",{staticClass:"historyShow"},[t._v(t._s(t.getMenu))]):a("el-cascader",{attrs:{placeholder:t.isEditMeta.isHistory?"":"请选择",clearable:"",options:t.layerOptions,props:t.layerOptionsProps},on:{change:t.handleLayerChange},model:{value:t.baseForm.sourceLayerId,callback:function(e){t.$set(t.baseForm,"sourceLayerId",e)},expression:"baseForm.sourceLayerId"}})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:13}},[a("el-form-item",{attrs:{label:"数据范围：",prop:"dataRangeFront"}},[t.isEditMeta.isHistory?a("span",{staticClass:"historyShow"},[t._v(t._s(t.baseForm.dataRangeFront)+"  ~  "+t._s(t.baseForm.dataRangeEnd))]):a("el-input",{attrs:{placeholder:t.isEditMeta.isHistory?"":"请输入较小数,不小于-4000000000000000"},model:{value:t.baseForm.dataRangeFront,callback:function(e){t.$set(t.baseForm,"dataRangeFront",t._n(e))},expression:"baseForm.dataRangeFront"}})],1)],1),t._v(" "),t.isEditMeta.isHistory?t._e():a("el-col",{staticClass:"line ac",attrs:{span:1}},[t._v("~")]),t._v(" "),t.isEditMeta.isHistory?t._e():a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":"0px",prop:"dataRangeEnd"}},[a("el-input",{attrs:{placeholder:t.isEditMeta.isHistory?"":"请输入较大数,4000000000000000",disabled:t.isEditMeta.isHistory},model:{value:t.baseForm.dataRangeEnd,callback:function(e){t.$set(t.baseForm,"dataRangeEnd",t._n(e))},expression:"baseForm.dataRangeEnd"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"正则表达式："}},[t.isEditMeta.isHistory?a("span",{staticClass:"historyShow"},[t._v(t._s(t.getRegExp))]):a("el-select",{attrs:{clearable:"",size:"small",placeholder:t.isEditMeta.isHistory?"":"请选择正则表达式"},model:{value:t.baseForm.regularExpression,callback:function(e){t.$set(t.baseForm,"regularExpression",e)},expression:"baseForm.regularExpression"}},t._l(t.regExpOptions,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"remark"}},[t.isEditMeta.isHistory?a("span",{staticClass:"historyShow"},[t._v(t._s(t.baseForm.remark))]):a("el-input",{attrs:{type:"textarea",rows:2,placeholder:t.isEditMeta.isHistory?"":"请输入内容"},model:{value:t.baseForm.remark,callback:function(e){t.$set(t.baseForm,"remark",e)},expression:"baseForm.remark"}})],1)],1),t._v(" "),t.openStatus?t._e():a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"reset-btn",attrs:{type:"info",size:"small"},on:{click:function(e){return t.resetForm("baseForm")}}},[t._v("重 置")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small",loading:t.buttonLoading},on:{click:function(e){return t.submitForm("baseForm")}}},[t._v("保 存")])],1)],1)},i=[],o={render:n,staticRenderFns:i};e.a=o},uLiQ:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".add-update-meta .historyShow{font-size:12px;color:#333}",""])}});